(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c02f2"],{4165:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData},on:{change:e.onChange,search:e.onSearch}})},n=[],l=r("0fea");function o(e){return d(e)||u(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var c={name:"JTreeDict",data:function(){return{treeData:[],treeValue:null,url_root:"/sys/category/loadTreeRoot",url_children:"/sys/category/loadTreeChildren",url_view:"/sys/category/loadOne"}},props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},parentCode:{type:String,default:"",required:!1},field:{type:String,default:"id",required:!1},root:{type:Object,required:!1,default:function(){return{pid:"0"}}},async:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},watch:{root:{handler:function(e){},deep:!0},parentCode:{handler:function(){this.loadRoot()}},value:{handler:function(){this.loadViewInfo()}}},created:function(){this.loadRoot(),this.loadViewInfo()},model:{prop:"value",event:"change"},methods:{loadViewInfo:function(){var e=this;if(this.value&&"0"!=this.value){var t={field:this.field,val:this.value};Object(l["c"])(this.url_view,t).then((function(t){t.success&&(e.treeValue={value:e.value,label:t.result.name})}))}else this.treeValue=null},loadRoot:function(){var e=this,t={async:this.async,pcode:this.parentCode};Object(l["c"])(this.url_root,t).then((function(t){t.success?(e.handleTreeNodeValue(t.result),e.treeData=o(t.result)):e.$message.error(t.message)}))},asyncLoadTreeData:function(e){var t=this;return new Promise((function(r){if(t.async)if(e.$vnode.children)r();else{var a=e.$vnode.key,n={pid:a};Object(l["c"])(t.url_children,n).then((function(e){e.success&&(t.handleTreeNodeValue(e.result),t.addChildren(a,e.result,t.treeData),t.treeData=o(t.treeData)),r()}))}else r()}))},addChildren:function(e,t,r){if(r&&r.length>0){var a=!0,n=!1,l=void 0;try{for(var o,i=r[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var u=o.value;if(u.key==e){t&&0!=t.length?u.children=t:u.leaf=!0;break}this.addChildren(e,t,u.children)}}catch(d){n=!0,l=d}finally{try{a||null==i.return||i.return()}finally{if(n)throw l}}}},handleTreeNodeValue:function(e){var t="code"==this.field?"code":"key",r=!0,a=!1,n=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var i=l.value;i.value=i[t],i.isLeaf=!!i.leaf,i.children&&i.children.length>0&&this.handleTreeNodeValue(i.children)}}catch(u){a=!0,n=u}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}},onChange:function(e){e?this.$emit("change",e.value):this.$emit("change",""),this.treeValue=e},onSearch:function(e){},getCurrTreeData:function(){return this.treeData}}},s=c,h=r("2877"),f=Object(h["a"])(s,a,n,!1,null,null,null);t["default"]=f.exports}}]);