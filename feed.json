{
    "version": "https://jsonfeed.org/version/1",
    "title": "åŠæ—¶å½“å‹‰åŠ±ï¼Œå²æœˆä¸å¾…äººã€‚",
    "subtitle": "Mengke",
    "icon": "https://mk965.github.io/images/favicon.ico",
    "description": "Mengkeçš„æœ­è®° & ç¼–ç¨‹ç¬”è®°",
    "home_page_url": "https://mk965.github.io",
    "items": [
        {
            "id": "https://mk965.github.io/frontend-end/Vue/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%E5%89%8D%E7%AB%AF%E7%A5%9E%E5%99%A8%E2%80%94%E2%80%94Proxy/",
            "url": "https://mk965.github.io/frontend-end/Vue/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%E5%89%8D%E7%AB%AF%E7%A5%9E%E5%99%A8%E2%80%94%E2%80%94Proxy/",
            "title": "é‡æ–°è®¤è¯†å‰ç«¯ç¥å™¨â€”â€”Proxy",
            "date_published": "2022-03-28T14:41:34.089Z",
            "content_html": "<h2 id=\"ä»€ä¹ˆæ˜¯-proxy\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯-proxy\">#</a> ä»€ä¹ˆæ˜¯ Proxy</h2>\n<p><code>Proxy</code>  å¯¹è±¡ç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œæ˜¯ç”¨äºç›‘å¬ä¸€ä¸ªå¯¹è±¡çš„ç›¸å…³æ“ä½œã€‚ä»£ç†å¯¹è±¡å¯ä»¥ç›‘å¬æˆ‘ä»¬å¯¹åŸå¯¹è±¡çš„æ“ä½œã€‚<br />\næ¥ä¸‹æ¥æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªç›‘å¬å¯¹è±¡çš„å±æ€§æ“ä½œæ¥è®¤è¯†å­¦ä¹ ä¸‹ä»€ä¹ˆæ˜¯  <code>Proxy</code> ã€‚<br />\nProxy å¯¹è±¡éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯éœ€è¦è¢«  <code>Proxy</code>  ä»£ç†çš„å¯¹è±¡å’Œä¸€ç³»åˆ—çš„æ•è·å™¨ï¼ˆPSï¼šä¸‹é¢ä¼šè®²ï¼‰ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'mengke'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> objProxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â· Proxy</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    ğŸ‚  [[Handler]]: Object</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    â· [[Target]]: Object</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        name: \"mengke\"</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        ğŸ‚ [[Prototype]]: Object</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        [[IsRevoked]]: false</pre></td></tr></table></figure><p>æ‰“å°å‡ºæ¥å¯ä»¥çœ‹åˆ°çš„æ˜¯ä¸€ä¸ª  <code>Proxy</code>  å¯¹è±¡ã€‚ä¸‹é¢æˆ‘ä»¬å¼€å§‹çœ‹çœ‹  <code>Proxy</code>  ä¸­çš„æ•è·å™¨å¯¹è±¡ã€‚</p>\n<h2 id=\"proxy-æ•è·å™¨\"><a class=\"anchor\" href=\"#proxy-æ•è·å™¨\">#</a> Proxy æ•è·å™¨</h2>\n<p>åœ¨å®ä¾‹åŒ–  <code>Proxy</code>  å¯¹è±¡æ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯æ•è·å™¨é›†åˆï¼Œæˆ‘ä»¬åœ¨å…¶å¯¹è±¡å†…å®šä¹‰ä¸€ä¸ª  <code>get</code>  æ•è·å™¨ï¼Œç”¨äºç›‘å¬è·å–å¯¹è±¡å€¼çš„æ“ä½œã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å®šä¹‰ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ obj</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'mengke'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// ä»£ç† obj è¿™ä¸ªå¯¹è±¡ï¼Œå¹¶ä¼ å…¥ get æ•è·å™¨</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">const</span> objProxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token comment\">//get æ•è·å™¨</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">æ•è·åˆ°å¯¹è±¡è·å–</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>key<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">å±æ€§çš„å€¼æ“ä½œ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> target<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">// é€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œ obj å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">// æ•è·åˆ°å¯¹è±¡è·å– name å±æ€§çš„å€¼æ“ä½œ</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// mengke</span></pre></td></tr></table></figure><p>åœ¨  <code>objProxy</code>  å¯¹è±¡çš„æ‹¦æˆªå™¨ä¸­æ–°å¢ä¸€ä¸ªæ•è·å™¨  <code>set</code> ï¼Œç”¨äºç›‘å¬å¯¹è±¡çš„æŸä¸ªå±æ€§è¢«è®¾ç½®æ—¶è§¦å‘ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//set æ•è·å™¨</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function-variable function\">set</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">æ•è·åˆ°å¯¹è±¡è®¾ç½®</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>key<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">å±æ€§çš„å€¼æ“ä½œ,æ–°å€¼ä¸º</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>val<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    target<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"AAAAA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// æ•è·åˆ°å¯¹è±¡è®¾ç½® name å±æ€§çš„å€¼æ“ä½œï¼Œæ–°å€¼ä¸º AAAAA</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// æ•è·åˆ°å¯¹è±¡è·å– name å±æ€§çš„å€¼æ“ä½œ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// AAAAA</span></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³è¿™ä¸ªå±æ€§è¢«è®¾å®šè¿™ä¸ªå€¼ï¼Œä½ å¯ä»¥æŠ›å‡ºå¼‚å¸¸å‘Šè¯‰å¼€å‘è€…ï¼Œè¯¥å€¼ä¸èƒ½è¢«è®¾å®šã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function-variable function\">set</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key<span class=\"token operator\">===</span><span class=\"token string\">'age'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">typeof</span> val <span class=\"token operator\">===</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        target<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¯¥å±æ€§çš„å€¼å¿…é¡»æ˜¯Numberç±»å‹\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›‘å¬å¯¹è±¡æ˜¯å¦è°ƒç”¨äº†  <code>getPrototypeOf</code>  æ“ä½œï¼Œä½¿ç”¨  <code>getPrototypeOf</code>  æ•è·å™¨å³å¯ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ç›‘å¬ getPrototypeOf</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function-variable function\">getPrototypeOf</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ç›‘å¬åˆ°å¯¹è±¡getPrototypeOfæ“ä½œ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr></table></figure><p>åœ¨  <code>Proxy</code>  ä¸­å…±æœ‰  <code>13</code>  ä¸ªæ•è·å™¨ï¼Œå®ƒä»¬ç”¨äºæˆ‘ä»¬å¯¹å¯¹è±¡ã€å‡½æ•°çš„æ–¹æ³•è°ƒç”¨ç›‘å¬ã€‚ä¸‹é¢æ˜¯  <code>Proxy</code>  æ•è·å™¨ä»¥åŠå®ƒä»¬çš„è§¦å‘æ¡ä»¶ã€‚</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">å¯¹è±¡ä¸­çš„æ–¹æ³•</th>\n<th style=\"text-align:left\">å¯¹åº”è§¦å‘æ¡ä»¶</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">handler.getPrototypeOf()</td>\n<td style=\"text-align:left\"><code>handler.getPrototypeOf</code>  æ–¹æ³•çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.setPrototypeOf()</td>\n<td style=\"text-align:left\"><code>Object.setPrototypeOf</code>  æ–¹æ³•çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.isExtensible()</td>\n<td style=\"text-align:left\"><code>Object.isExtensible</code>  æ–¹æ³•çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.preventExtensions()</td>\n<td style=\"text-align:left\"><code>Object.preventExtensions</code>  æ–¹æ³•çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.getOwnPropertyDescriptor()</td>\n<td style=\"text-align:left\"><code>Object.getOwnPropertyDescriptor</code>  æ–¹æ³•çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.defineProperty()</td>\n<td style=\"text-align:left\"><code>Object.defineProperty</code>  æ–¹æ³•çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.has()</td>\n<td style=\"text-align:left\"><code>in</code>  æ“ä½œç¬¦çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.get()</td>\n<td style=\"text-align:left\">å±æ€§è¯»å–æ“ä½œçš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.set()</td>\n<td style=\"text-align:left\">å±æ€§è®¾ç½®æ“ä½œçš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.deleteProperty()</td>\n<td style=\"text-align:left\"><code>delete</code>  æ“ä½œç¬¦çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.ownKeys()</td>\n<td style=\"text-align:left\"><code>Object.getOwnPropertyNames</code>  æ–¹æ³•å’Œ  <code>Object.getOwnPropertySymbols</code>  æ–¹æ³•çš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.apply()</td>\n<td style=\"text-align:left\">å‡½æ•°è¢«  <code>apply</code>  è°ƒç”¨æ“ä½œçš„æ•æ‰å™¨</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">handler.construct()</td>\n<td style=\"text-align:left\"><code>new</code>  æ“ä½œç¬¦çš„æ•æ‰å™¨</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"this-æŒ‡å‘çš„é—®é¢˜\"><a class=\"anchor\" href=\"#this-æŒ‡å‘çš„é—®é¢˜\">#</a> this æŒ‡å‘çš„é—®é¢˜</h2>\n<p><code>Proxy</code>  å¯¹è±¡å¯ä»¥å¯¹æˆ‘ä»¬çš„ç›®æ ‡å¯¹è±¡è¿›è¡Œè®¿é—®ï¼Œä½†æ²¡æœ‰åšä»»ä½•æ‹¦æˆªæ—¶ï¼Œä¹Ÿä¸èƒ½ä¿è¯ä¸ç›®æ ‡å¯¹è±¡çš„è¡Œä¸ºä¸€è‡´ï¼Œå› ä¸ºç›®æ ‡å¯¹è±¡å†…éƒ¨çš„  <code>this</code>  ä¼šè‡ªåŠ¨æ”¹å˜ä¸º  <code>Proxy</code>  ä»£ç†å¯¹è±¡ã€‚æˆ‘ä»¬çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­å°±çŸ¥é“äº†ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'mengke'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token function-variable function\">foo</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span> <span class=\"token operator\">===</span> objProxy<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">const</span> objProxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">.</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></pre></td></tr></table></figure><h2 id=\"å¯¹è±¡ç›‘å¬æ¡ˆä¾‹\"><a class=\"anchor\" href=\"#å¯¹è±¡ç›‘å¬æ¡ˆä¾‹\">#</a> å¯¹è±¡ç›‘å¬æ¡ˆä¾‹</h2>\n<p>æŸäº›åœºæ™¯ä¸‹ï¼Œéœ€è¦ç›‘å¬ä¸€ä¸ªå¯¹è±¡çš„æ“ä½œï¼Œå½“è¿™ä¸ªæ“ä½œè§¦å‘æ—¶æ‰§è¡Œå¦å¤–çš„ä¸€ä¸ªå‡½æ•°ï¼Œå°±åƒ  <code>vue2</code>  ä¸­çš„  <code>watchApi</code> ï¼Œå®ƒå¯ä»¥ç›‘å¬  <code>data</code>  æ•°æ®ä¸­æŸä¸ªå±æ€§çš„æ”¹å˜å¹¶æ“ä½œæŒ‡å®šçš„å‡½æ•°ã€‚<br />\næˆ‘ä»¬çœ‹çœ‹ä¸‹é¢è¿™ä»½ä»£ç ï¼Œåœ¨  <code>ES5</code>  ä¸­ä½¿ç”¨  <code>Object.defineProperty</code> ï¼ˆå¯¹è±¡å±æ€§æè¿°ç¬¦ï¼‰å¯¹å¯¹è±¡çš„ç›‘å¬ï¼Œå°†ä¸€ä¸ªå¯¹è±¡è¿›è¡Œéå†ï¼Œå¹¶è®¾å®š  <code>getter</code> ã€ <code>setter</code>  æ–¹æ³•è¿›è¡Œç›‘å¬å’Œæ‹¦æˆªã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å®šä¹‰ä¸€ä¸ª Object å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'mengke'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token keyword\">let</span> val <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\tObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">+</span> <span class=\"token string\">'è°ƒç”¨äº† get æ–¹æ³•'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t<span class=\"token function-variable function\">set</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">newVal</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>key <span class=\"token operator\">+</span> <span class=\"token string\">'è°ƒç”¨äº† set æ–¹æ³•'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t\tval <span class=\"token operator\">=</span> newVal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// æ“ä½œ obj å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>obj<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'AAAAA'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">//name è°ƒç”¨äº† set æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>obj<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">//age è°ƒç”¨äº† set æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">//name è°ƒç”¨äº† get æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">// AAAAA</span></pre></td></tr></table></figure><p><code>Object.defineProperty</code>  çš„è®¾è®¡åˆè¡·å¹¶ä¸æ˜¯ä¸ºäº†å»ç›‘å¬æ‹¦æˆªä¸€ä¸ªå¯¹è±¡ä¸­çš„å±æ€§ï¼Œä¸”ä»–ä¹Ÿå®ç°ä¸äº†æ›´åŠ ä¸°å¯Œçš„æ“ä½œï¼Œä¾‹å¦‚æ·»åŠ ã€åˆ é™¤å±æ€§ç­‰æ“ä½œã€‚æ‰€ä»¥åœ¨ ES6 ä¸­æ–°å¢äº†  <code>Proxy</code>  å¯¹è±¡ï¼Œç”¨äºç›‘å¬  <code>Object</code> ã€ <code>Function</code>  çš„æ“ä½œã€‚<br />\næˆ‘ä»¬å°†ä¸Šé¢é€šè¿‡  <code>Object.defineProperty</code>  å®ç°å¯¹è±¡ç›‘å¬çš„æ–¹æ³•ä¿®æ”¹æˆ  <code>Proxy</code>  æ–¹æ¡ˆã€‚åœ¨  <code>Vue3</code>  æ¡†æ¶ä¸­çš„å“åº”å¼åŸç†ä¹Ÿæ˜¯ç”¨åˆ°äº†  <code>Proxy</code>  å¯¹è±¡è¿›è¡Œå¯¹å±æ€§çš„ç›‘å¬æ“ä½œã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'mengke'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">const</span> objProxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token comment\">// è·å–å€¼æ—¶çš„æ•è·å™¨</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ç›‘å¬åˆ°äº†</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>key<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">è¢«è·å–å€¼</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> target<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token comment\">// è®¾ç½®å€¼æ—¶çš„æ•è·å™¨</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token function-variable function\">set</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> newValue</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ç›‘å¬åˆ°äº†</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>key<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">è¢«è®¾ç½®å€¼</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\ttarget<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> newValue<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">// ç›‘å¬åˆ°äº† name è¢«è·å–å€¼</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// mengke</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// ç›‘å¬åˆ°äº† age è¢«è·å–å€¼</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">// 18</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>objProxy<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'AAAAA'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">// ç›‘å¬åˆ°äº† name è¢«è®¾ç½®å€¼</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>objProxy<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">// ç›‘å¬åˆ°äº† name è¢«è·å–å€¼</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\">// AAAAA</span></pre></td></tr></table></figure><h2 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h2>\n<p><code>proxy</code>  æ˜¯ä¸€ä¸ªçš„ä»£ç†å¯¹è±¡ï¼Œå®ƒå¯ä»¥ä»£ç†æˆ‘ä»¬å¯¹åŸç›®æ ‡çš„æ“ä½œã€‚ç›¸æ¯”  <code>Object.defineProperty</code>  æ–¹æ³•ï¼Œ <code>Proxy</code>  ç›‘å¬çš„äº‹ä»¶æ•ˆç‡æ›´é«˜ã€‚</p>\n",
            "tags": [
                "å‰ç«¯",
                "Vue"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/React/Next.js%E4%B8%8A%E6%89%8B%E6%8C%87%E5%8D%97/",
            "url": "https://mk965.github.io/frontend-end/React/Next.js%E4%B8%8A%E6%89%8B%E6%8C%87%E5%8D%97/",
            "title": "Next.js ä¸Šæ‰‹æŒ‡å—",
            "date_published": "2021-11-02T13:36:42.000Z",
            "content_html": "<h2 id=\"nextjs-æ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#nextjs-æ˜¯ä»€ä¹ˆ\">#</a> Next.js æ˜¯ä»€ä¹ˆï¼Ÿ</h2>\n<p>NextJs æ˜¯ä¸€æ¬¾ React å¼€å‘æ¡†æ¶ï¼Œä¸»è¦å…³æ³¨ä¸¤ç‚¹ï¼š</p>\n<ul>\n<li>ä¸ºç”Ÿäº§ç¯å¢ƒæ‰€å‡†å¤‡ï¼šæ— éœ€å¤æ‚é…ç½®å³å¯æä¾›å‡çº§ç¯å¢ƒæ‰€éœ€çš„å„ç§åŠŸèƒ½</li>\n<li>æä¾›è‰¯å¥½çš„å¼€å‘è€…ä½“éªŒ (DX)</li>\n</ul>\n<p>é€šè¿‡ Next.js æ¡†æ¶å¼€å‘çš„ React åº”ç”¨æ— éœ€é…ç½®å°±å¯ä»¥å¦‚æœåŠ¡ç«¯æ¸²æŸ“ SSRã€ç¼–è¯‘æ—¶æ¸²æŸ“ SSGï¼ŒTypescript è¯­è¨€æ”¯æŒï¼Œè‡ªåŠ¨æ‰“åŒ…ï¼Œè·¯ç”±æ„ˆåŠ è½½ç­‰åŠŸèƒ½ã€‚</p>\n<h2 id=\"nextjs-åŠŸèƒ½\"><a class=\"anchor\" href=\"#nextjs-åŠŸèƒ½\">#</a> Next.js åŠŸèƒ½</h2>\n<p>æˆ‘ä»¬å…ˆçœ‹ Next.js ä¸ºç”Ÿäº§ç¯å¢ƒ React åº”ç”¨å‡†å¤‡çš„åŠŸèƒ½ç‰¹æ€§</p>\n<h3 id=\"page-è·¯ç”±\"><a class=\"anchor\" href=\"#page-è·¯ç”±\">#</a> Page è·¯ç”±</h3>\n<p>é€šè¿‡ Next.js åˆå§‹åŒ– React åº”ç”¨åï¼ŒNext.Js ä¼šè‡ªåŠ¨å°†  <code>pages</code>  ç›®å½•çš„æ¯ä¸ªç»„ä»¶æ¸²æŸ“æˆä¸€ä¸ªé¡µé¢ï¼Œå¹¶è‡ªåŠ¨è®¾ç½®å¥½è·¯ç”±ï¼šåœ¨  <code>pages</code>  ç›®å½•æ–°å»º  <code>about.js</code></p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// pages/about.js</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">About</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">About: </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight txt\"><figcaption data-lang=\"txt\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>pages</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>â”œâ”€â”€ _app.js</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>â”œâ”€â”€ about.js</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>â”œâ”€â”€ api</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>â”‚   â””â”€â”€ hello.js</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>â””â”€â”€ index.js</pre></td></tr></table></figure><p>å¯åŠ¨åº”ç”¨åï¼Œå³å¯ä»¥é€šè¿‡  <code>http://localhost:3000/about</code>  è®¿é—®åˆ°  <code>about</code>  é¡µé¢äº†ã€‚â€‹<br />\nåŒæ—¶ Next.js è¿˜æ”¯æŒé¡µé¢çš„åŠ¨æ€è·¯ç”±ï¼Œæ¯”å¦‚åœ¨  <code>pages</code>  ç›®å½•å»ºç«‹æ–‡ä»¶  <code>posts/[id].js</code> ï¼ŒNext.js å°±ä¼šè‡ªåŠ¨å°†å¦‚  <code>/post/1</code> ã€ <code>/post/2</code>  çš„è¯·æ±‚è·¯ç”±åˆ°è¿™ä¸ªç»„ä»¶ä¸Š</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// pages/posts/[id].js</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> useRouter <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"next/router\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Post</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> id <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> router<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      Post</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">id: </span><span class=\"token punctuation\">&#123;</span>id<span class=\"token punctuation\">&#125;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œè¯·æ±‚å¦‚  <code>http://localhost:3000/posts/1</code> ã€ <code>http://localhost:3000/posts/2</code>  å°±ä¼šè·¯ç”±åˆ°æ”¹ç»„ä»¶ä¸­ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°ï¼Œå¯ä»¥é€šè¿‡ router è·å–åˆ°è·¯ç”±å‚æ•°</p>\n<h3 id=\"é¢„æ¸²æŸ“\"><a class=\"anchor\" href=\"#é¢„æ¸²æŸ“\">#</a> é¢„æ¸²æŸ“</h3>\n<p>å‡ºäº†å®¢æˆ·ç«¯æ¸²æŸ“å¤–ï¼ŒNext.js æ”¯æŒä¸¤ç§å½¢å¼çš„é¢„æ¸²æŸ“ï¼š</p>\n<ul>\n<li>\n<ol>\n<li>åŸºäºç¼–è¯‘æ—¶çš„é™æ€æ¸²æŸ“</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>æœåŠ¡ç«¯æ¸²æŸ“ SSR<br />\n åœ¨åŒä¸€ä¸ª Next.Js åº”ç”¨ä¸­å¯ä»¥åŒæ—¶æ··ç”¨ä¸¤ç§é¢„æ¸²æŸ“æ–¹å¼ï¼Œå³éƒ¨åˆ†é¡µé¢ä½¿ç”¨é™æ€æ¸²æŸ“ï¼Œéƒ¨åˆ†é¡µé¢ä½¿ç”¨ SSRã€‚</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"é™æ€æ¸²æŸ“-ssg\"><a class=\"anchor\" href=\"#é™æ€æ¸²æŸ“-ssg\">#</a> é™æ€æ¸²æŸ“ SSG</h4>\n<p>é™æ€æ¸²æŸ“ï¼Œå³åœ¨ç¼–è¯‘æ—¶ï¼Œå°†é¡µé¢æ¸²æŸ“æˆ HTML é™æ€æ–‡ä»¶ï¼Œè¿™äº›é™æ€æ–‡ä»¶å¯ä»¥æ”¾åˆ° CDN ä¸Šã€‚å¦å¤–é€šè¿‡ Next.js é™æ€æ¸²æŸ“çš„é¡µé¢å¯ä»¥ä¸ä½¿ç”¨æ•°æ®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°æ®ã€‚ä¸ä½¿ç”¨æƒ…å†µçš„ä¾‹å­ï¼Œå¦‚å‰æ–‡ä¸­çš„  <code>about.js</code> , åœ¨ build ä¹‹åå¯ä»¥çœ‹åˆ°  <code>about.html</code>  ä¸­å·²ç»æ¸²æŸ“çš„ HTMLï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>__next<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>About:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>__NEXT_DATA__<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>application/json<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token string-property property\">\"props\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token string-property property\">\"pageProps\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token string-property property\">\"page\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/about\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token string-property property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token string-property property\">\"buildId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Dc_JKg47EiBrN8BG0Me-S\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token string-property property\">\"nextExport\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token string-property property\">\"autoExport\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token string-property property\">\"isFallback\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token string-property property\">\"scriptLoader\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>å¦å¤–ï¼ŒNext.js çš„é™æ€æ¸²æŸ“æ˜¯æ”¯æŒä½¿ç”¨æ•°æ®çš„è¿™é‡Œåœ¨  <code>pages</code>  ä¸‹æ–°å»º  <code>ssg.jsNext.js</code>  é€šè¿‡å‡½æ•°  <code>getStaticProps</code>  æ¥å…è®¸ç»„ä»¶åœ¨é¢„æ¸²æŸ“çš„æ—¶å€™è·å–å¤–éƒ¨æ•°æ®ï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡é€šè¿‡å¼‚æ­¥è¯·æ±‚è·å–å½“å‰æ—¶é—´ï¼Œç„¶åæŠŠæ—¶é—´åšä¸º  <code>props</code>  ä¼ é€’ç»™ç»„ä»¶</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getStaticProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://postman-echo.com/get?now=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>now<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token literal-property property\">now</span><span class=\"token operator\">:</span> obj<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token constant\">SSG</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> now <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">SSG: </span><span class=\"token punctuation\">&#123;</span>now<span class=\"token punctuation\">&#125;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>åœ¨ build åï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„  <code>ssg.html</code>  ä¸­å·²ç»åŒ…å«äº†æ—¶é—´ï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>__next<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      SSR:</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token comment\">&lt;!-- --></span>6:21:06 PM</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>__NEXT_DATA__<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>application/json<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token string-property property\">\"props\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token string-property property\">\"pageProps\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token string-property property\">\"now\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"6:21:06 PM\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"__N_SSG\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token string-property property\">\"page\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/ssg\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token string-property property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token string-property property\">\"buildId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PQ7ze9KG5oMk09L5idTqy\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token string-property property\">\"isFallback\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token string-property property\">\"gsp\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token string-property property\">\"scriptLoader\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>â€‹<br />\nåœ¨ä½¿ç”¨äº†åŠ¨æ€è·¯ç”±çš„æ—¶å€™ï¼Œæƒ…å†µå°±å¤æ‚ä¸€ç‚¹ï¼Œåœ¨é¢„æ¸²æŸ“çš„æ—¶å€™ï¼Œéœ€è¦é¦–å…ˆç¡®å®šåŠ¨æ€è·¯ç”±çš„å‚æ•°ã€‚æ¯”å¦‚ä¸Šæ–‡ä¸­çš„  <code>posts/[id].js</code>  ç»„ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦é€šè¿‡  <code>postId</code>  æ¥è·å– post çš„è¯¦æƒ…æ•°æ®ï¼ŒNext.js æä¾›äº†  <code>getStaticProps</code>  å’Œ  <code>getStaticPaths</code> ã€‚</p>\n<ul>\n<li><code>getStaticPaths</code> ï¼šé€šè¿‡  <code>getStaticPaths</code>  è¿”å›çš„  <code>paths</code>  æ•°ç»„ï¼ŒNext.Js å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç¡®å®šåŠ¨æ€è·¯ç”±çš„å€¼ï¼Œå³è¿™é‡Œæ¯ä¸€ä¸ª post çš„  <code>id</code>  å°±æ˜¯ä¸€ä¸ªè·¯ç”±å‚æ•°  <code>id</code>  çš„å€¼ï¼Œè¿™æ ·ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼ŒNext.js é€šè¿‡  <code>getStaticPaths</code>  å°±å¯ä»¥åˆ¤æ–­å‡º  <code>posts/[id].js</code>  çš„æ‰€æœ‰å¯èƒ½çš„é¡µé¢è·¯ç”±ã€‚</li>\n</ul>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getStaticPaths</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">\"https://my-json-server.typicode.com/typicode/demo/posts\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">const</span> paths <span class=\"token operator\">=</span> posts<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">params</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>post<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    paths<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token literal-property property\">fallback</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>åœ¨å…·ä½“æ¸²æŸ“ä¸€ä¸ª post é¡µé¢æ—¶ï¼Œè¿˜éœ€è¦  <code>getStaticProps</code>  å‡½æ•°æ¥æ¥å°†è·å–çš„æ•°æ®ä½œä¸º  <code>props</code>  ä¼ é€’ç»™ç»„ä»¶</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getStaticProps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> params <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://my-json-server.typicode.com/typicode/demo/posts/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>params<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> post <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> post <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æœ€åæ˜¯ç»„ä»¶çš„å®ç°</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Post</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> post <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      Post</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">id: </span><span class=\"token punctuation\">&#123;</span>post<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">&#125;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">title: </span><span class=\"token punctuation\">&#123;</span>post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">&#125;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"æœåŠ¡ç«¯æ¸²æŸ“-ssr\"><a class=\"anchor\" href=\"#æœåŠ¡ç«¯æ¸²æŸ“-ssr\">#</a> æœåŠ¡ç«¯æ¸²æŸ“ SSR</h4>\n<p>Page é¡µé¢ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨ SSR æ¥åšé¢„æ¸²æŸ“ï¼Œé€šè¿‡åœ¨  <code>page</code>  ç»„ä»¶ä¸­å®ç°  <code>getServerSideProps</code>  å³å¯ï¼š</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// pages/status.js</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getServerSideProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://postman-echo.com/get?now=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>now<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token literal-property property\">props</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token literal-property property\">now</span><span class=\"token operator\">:</span> obj<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Status</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">&#123;</span> now <span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Status: </span><span class=\"token punctuation\">&#123;</span>now<span class=\"token punctuation\">&#125;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¯ä»¥å¯¹æ¯”ä¸Šæ–‡çš„ ssg é¡µé¢å’Œè¿™é‡Œçš„ ssr é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œssg é¡µé¢åœ¨å¤šæ¬¡è¯·æ±‚åˆ·æ–°å‰åæ˜¾ç¤ºçš„æ—¶é—´ä¸ä¼šå˜åŒ–ï¼Œè€Œ ssr é¡µé¢åœ¨æ¯æ¬¡åˆ·æ–°éƒ½ä¼šæ˜¾ç¤ºæ–°çš„æ—¶é—´ã€‚</p>\n<h4 id=\"hybird-æ··åˆç«¯æ¸²æŸ“\"><a class=\"anchor\" href=\"#hybird-æ··åˆç«¯æ¸²æŸ“\">#</a> Hybird æ··åˆç«¯æ¸²æŸ“</h4>\n<p>Next.js æ”¯æŒéƒ¨åˆ† SSG å’Œ SSR çš„æ··åˆä½¿ç”¨ï¼Œå³éƒ¨åˆ†é¡µé¢ä½¿ç”¨ SSGã€éƒ¨åˆ†é¡µé¢ä½¿ç”¨ SSRã€‚</p>\n<h3 id=\"api-è·¯ç”±\"><a class=\"anchor\" href=\"#api-è·¯ç”±\">#</a> API è·¯ç”±</h3>\n<p>å¦‚ Pages åŠŸèƒ½ä¸€æ ·ï¼ŒNext.js æ”¯æŒæœåŠ¡ç«¯ API çš„è‡ªåŠ¨æ”¯æŒï¼Œåœ¨ Next.js é¡¹ç›®ä¸­ï¼Œåœ¨  <code>pages/api</code>  ç›®å½•ä¸‹æ¯ä¸€ä¸ªæ–‡ä»¶ä¼šè‡ªåŠ¨æ³¨å†ŒæˆåŠŸä¸€ä¸ª API è®¿é—®ç‚¹ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// pages/api/user.js</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John Doe\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¯åŠ¨å°±å¯ä»¥é€šè¿‡  <code>/api/user</code>  æ¥è¯·æ±‚è¿™ä¸ªæ¥å£äº†</p>\n<h2 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h2>\n<p>æ€»ä½“æ¥è¯´ï¼ŒNext.js å¯ä»¥è¯´æ˜¯  <code>create-react-app</code>  çš„ä¸€ä¸ªè¿›é˜¶ç‰ˆæœ¬ï¼Œå³å®ƒé™¤äº†å¸®ä½ å¿«é€Ÿçš„åˆ›å»º React åº”ç”¨å¤–ï¼Œè¿˜æ”¯æŒå¾ˆå¤šæ— éœ€å¤æ‚é…ç½®çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬è·¯ç”±å’Œå„ç§åœºæ™¯çš„é¢„æ¸²æŸ“ï¼Œæ¥æ»¡è¶³ç”Ÿäº§ç¯å¢ƒæ‰€éœ€ã€‚</p>\n",
            "tags": [
                "å‰ç«¯",
                "React"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/%E5%88%9D%E6%8E%A2qiankun/",
            "url": "https://mk965.github.io/frontend-end/%E5%88%9D%E6%8E%A2qiankun/",
            "title": "åˆæ¢ qiankun",
            "date_published": "2021-07-28T15:02:59.000Z",
            "content_html": "<h2 id=\"qiankun-demo\"><a class=\"anchor\" href=\"#qiankun-demo\">#</a> qiankun Demo</h2>\n<h4 id=\"ä»“åº“\"><a class=\"anchor\" href=\"#ä»“åº“\">#</a> ä»“åº“</h4>\n<div class=\"note primary\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21rOTY1L3FpYW5rdW4tZGVtbw==\">ğŸ±qiankun-demo</span></p>\n</div>\n<h4 id=\"åŒ…å«å†…å®¹\"><a class=\"anchor\" href=\"#åŒ…å«å†…å®¹\">#</a> åŒ…å«å†…å®¹ï¼š</h4>\n<p><strong>åŸºåº§ï¼š</strong></p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_0\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_0\"> React åŸºåº§</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_1\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_1\"> Vue åŸºåº§</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_2\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_2\"> Nuxt.js åŸºåº§</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_3\" disabled=\"true\" /><label for=\"cbx_3\"> Angular åŸºåº§</label></li>\n</ul>\n<p><strong>å­åº”ç”¨ï¼š</strong></p>\n<ul class=\"task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_4\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_4\"> React å­åº”ç”¨</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_5\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_5\"> Vue2 å­åº”ç”¨</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_6\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_6\"> Vue3 å­åº”ç”¨</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_7\" checked=\"true\" disabled=\"true\" /><label for=\"cbx_7\"> Nuxt.js å­åº”ç”¨</label></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"cbx_8\" disabled=\"true\" /><label for=\"cbx_8\"> Angular å­åº”ç”¨</label></li>\n</ul>\n<p>è¿˜åœ¨æ›´æ–°ä¸­...</p>\n",
            "tags": [
                "å‰ç«¯",
                "qiankun",
                "å¾®å‰ç«¯"
            ]
        },
        {
            "id": "https://mk965.github.io/live/photos/",
            "url": "https://mk965.github.io/live/photos/",
            "title": "æ‘„å½±",
            "date_published": "2021-06-01T03:00:30.000Z",
            "content_html": "<p><img data-src=\"https://s2.loli.net/2022/01/08/6AsyXOzWVFY58iT.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/kwDrqHzbB16tsn3.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/azN7rqgkUQGToYD.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/T4cZHs5pQXnkD3C.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/WN2Zg5Kyte7pmcd.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/s3RF6A9k2S4nhUQ.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/FPiWeuMAkVx12yl.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/xHceBIpLVbjNTsQ.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/sPLkQ5bTAuF8Enc.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/lPUNMSXZ2AbWg8c.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/FlgymdxYzbiLQNG.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/azJKB16EnR2DUcA.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/FsapyhxXzIftlUc.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/aCTfjiNA9odFEpI.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/aRof6syVljPcEzJ.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/LMEdBvVU4WnSeOT.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/VvTb45UX7gGBZdn.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/lvfKS4jXJtQ1G3L.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/Ikj8QO7sdCAS5Xt.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/vyFjqLZ9PQaNtne.jpg\" alt=\"\" /><br />\n<img data-src=\"https://s2.loli.net/2022/01/08/rZTVDmF37syYLGv.jpg\" alt=\"\" /></p>\n",
            "tags": [
                "ç”Ÿæ´»"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/Vue/VUE%E6%95%B0%E6%8D%AE%E4%BE%A6%E6%B5%8B%E5%8E%9F%E7%90%86/",
            "url": "https://mk965.github.io/frontend-end/Vue/VUE%E6%95%B0%E6%8D%AE%E4%BE%A6%E6%B5%8B%E5%8E%9F%E7%90%86/",
            "title": "VUEæ•°æ®ä¾¦æµ‹åŸç†",
            "date_published": "2021-02-22T09:43:23.000Z",
            "content_html": "<h1 id=\"ä¸€-vue2ä¸­çš„å®ç°æ–¹æ³•\"><a class=\"anchor\" href=\"#ä¸€-vue2ä¸­çš„å®ç°æ–¹æ³•\">#</a> ä¸€ã€VUE2 ä¸­çš„å®ç°æ–¹æ³•</h1>\n<h2 id=\"1-å‰è¨€\"><a class=\"anchor\" href=\"#1-å‰è¨€\">#</a> 1. å‰è¨€</h2>\n<p>æˆ‘ä»¬çŸ¥é“ï¼šæ•°æ®é©±åŠ¨è§†å›¾çš„å…³é”®ç‚¹åˆ™åœ¨äºæˆ‘ä»¬å¦‚ä½•çŸ¥é“æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œåªè¦çŸ¥é“æ•°æ®åœ¨ä»€ä¹ˆæ—¶å€™å˜äº†ï¼Œé‚£ä¹ˆé—®é¢˜å°±å˜å¾—è¿åˆƒè€Œè§£ï¼Œæˆ‘ä»¬åªéœ€åœ¨æ•°æ®å˜åŒ–çš„æ—¶å€™å»é€šçŸ¥è§†å›¾æ›´æ–°å³å¯ã€‚</p>\n<p>è¦æƒ³çŸ¥é“æ•°æ®ä»€ä¹ˆæ—¶å€™è¢«è¯»å–äº†æˆ–æ•°æ®ä»€ä¹ˆæ—¶å€™è¢«æ”¹å†™äº†ï¼Œå…¶å®ä¸éš¾ï¼Œ <code>JS</code>  ä¸ºæˆ‘ä»¬æä¾›äº† <code>Object.defineProperty</code>  æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•æˆ‘ä»¬å°±å¯ä»¥è½»æ¾çš„çŸ¥é“æ•°æ®åœ¨ä»€ä¹ˆæ—¶å€™å‘ç”Ÿå˜åŒ–ã€‚</p>\n<h2 id=\"2-objectdefinepropety\"><a class=\"anchor\" href=\"#2-objectdefinepropety\">#</a> 2. Object.definePropety</h2>\n<p>ES5 æä¾›äº†  <code>Object.defineProperty</code>  æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚</p>\n<p><strong>è¯­æ³•ï¼š</strong></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> prop<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><ol>\n<li><strong>obj:</strong>  <code>è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡ã€‚</code></li>\n<li><strong>prop:</strong>  <code>è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚</code></li>\n<li><strong>descriptor:</strong>  <code>å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„æè¿°ç¬¦ã€‚</code></li>\n</ol>\n<p><strong>ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š</strong></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> object1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>object1<span class=\"token punctuation\">,</span> <span class=\"token string\">'property1'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">42</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token literal-property property\">writable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>object1<span class=\"token punctuation\">.</span>property1 <span class=\"token operator\">=</span> <span class=\"token number\">77</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// throws an error in strict mode</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>object1<span class=\"token punctuation\">.</span>property1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// expected output: 42</span></pre></td></tr></table></figure><p><strong>æè¿°ç¬¦ï¼š</strong></p>\n<p>å¯¹è±¡é‡Œç›®å‰å­˜åœ¨çš„å±æ€§æè¿°ç¬¦æœ‰ä¸¤ç§ä¸»è¦å½¢å¼ï¼šæ•°æ®æè¿°ç¬¦å’Œ å­˜å–æè¿°ç¬¦ ã€‚æ•°æ®æè¿°ç¬¦æ˜¯ä¸€ä¸ªå…·æœ‰å€¼çš„å±æ€§ï¼Œè¯¥å€¼å¯ä»¥æ˜¯å¯å†™çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸å¯å†™çš„ã€‚å­˜å–æè¿°ç¬¦æ˜¯ç”± getter å‡½æ•°å’Œ setter å‡½æ•°æ‰€æè¿°çš„å±æ€§ã€‚ä¸€ä¸ªæè¿°ç¬¦åªèƒ½æ˜¯è¿™ä¸¤è€…å…¶ä¸­ä¹‹ä¸€ï¼›ä¸èƒ½åŒæ—¶æ˜¯ä¸¤è€…ã€‚</p>\n<p>è¿™ä¸¤ç§æè¿°ç¬¦éƒ½æ˜¯å¯¹è±¡ã€‚å®ƒä»¬å…±äº«ä»¥ä¸‹å¯é€‰é”®å€¼ï¼ˆé»˜è®¤å€¼æ˜¯æŒ‡åœ¨ä½¿ç”¨ Object.defineProperty () å®šä¹‰å±æ€§æ—¶çš„é»˜è®¤å€¼ï¼‰ï¼š</p>\n<ul>\n<li><code>configurable</code>  å½“ä¸”ä»…å½“è¯¥å±æ€§çš„  <code>configurable</code>  é”®å€¼ä¸º  <code>true</code>  æ—¶ï¼Œè¯¥å±æ€§çš„æè¿°ç¬¦æ‰èƒ½å¤Ÿè¢«æ”¹å˜ï¼ŒåŒæ—¶è¯¥å±æ€§ä¹Ÿèƒ½ä»å¯¹åº”çš„å¯¹è±¡ä¸Šè¢«åˆ é™¤ã€‚&lt;br /&gt;<strong> é»˜è®¤ä¸º</strong> <strong> <code>false</code> </strong> ã€‚</li>\n<li><code>enumerable</code>  å½“ä¸”ä»…å½“è¯¥å±æ€§çš„  <code>enumerable</code>  é”®å€¼ä¸º  <code>true</code>  æ—¶ï¼Œè¯¥å±æ€§æ‰ä¼šå‡ºç°åœ¨å¯¹è±¡çš„æšä¸¾å±æ€§ä¸­ã€‚&lt;br /&gt; <strong>é»˜è®¤ä¸º  <code>false</code> </strong> ã€‚æ•°æ®æè¿°ç¬¦è¿˜å…·æœ‰ä»¥ä¸‹å¯é€‰é”®å€¼ï¼š</li>\n<li><code>value</code>  è¯¥å±æ€§å¯¹åº”çš„å€¼ã€‚å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼ï¼ˆæ•°å€¼ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼‰ã€‚&lt;br /&gt; <strong>é»˜è®¤ä¸º <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined\"> <code>undefined</code> </a></strong> ã€‚</li>\n<li><code>writable</code>  å½“ä¸”ä»…å½“è¯¥å±æ€§çš„  <code>writable</code>  é”®å€¼ä¸º  <code>true</code>  æ—¶ï¼Œå±æ€§çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„  <code>value</code> ï¼Œæ‰èƒ½è¢«<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators#assignment_operators\" title=\"Currently only available in English (US)\"> <code>èµ‹å€¼è¿ç®—ç¬¦</code> </a>æ”¹å˜ã€‚&lt;br /&gt;<strong> é»˜è®¤ä¸º  <code>false</code> ã€‚</strong></li>\n</ul>\n<p>å­˜å–æè¿°ç¬¦è¿˜å…·æœ‰ä»¥ä¸‹å¯é€‰é”®å€¼ï¼š</p>\n<ul>\n<li><code>get</code>  å±æ€§çš„ getter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ getterï¼Œåˆ™ä¸º  <code>undefined</code> ã€‚å½“è®¿é—®è¯¥å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚æ‰§è¡Œæ—¶ä¸ä¼ å…¥ä»»ä½•å‚æ•°ï¼Œä½†æ˜¯ä¼šä¼ å…¥  <code>this</code>  å¯¹è±¡ï¼ˆç”±äºç»§æ‰¿å…³ç³»ï¼Œè¿™é‡Œçš„ <code>this</code>  å¹¶ä¸ä¸€å®šæ˜¯å®šä¹‰è¯¥å±æ€§çš„å¯¹è±¡ï¼‰ã€‚è¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šè¢«ç”¨ä½œå±æ€§çš„å€¼ã€‚&lt;br /&gt; <strong>é»˜è®¤ä¸º <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined\"> <code>undefined</code> </a></strong> ã€‚</li>\n<li><code>set</code>  å±æ€§çš„ setter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ setterï¼Œåˆ™ä¸º  <code>undefined</code> ã€‚å½“å±æ€§å€¼è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯è¢«èµ‹äºˆçš„æ–°å€¼ï¼‰ï¼Œä¼šä¼ å…¥èµ‹å€¼æ—¶çš„  <code>this</code>  å¯¹è±¡ã€‚&lt;br /&gt; <strong>é»˜è®¤ä¸º <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined\"> <code>undefined</code> </a></strong> ã€‚</li>\n</ul>\n<h2 id=\"3-ä½¿-object-å˜å¾—å¯ä¾¦æµ‹\"><a class=\"anchor\" href=\"#3-ä½¿-object-å˜å¾—å¯ä¾¦æµ‹\">#</a> 3. ä½¿ Object å˜å¾—å¯ä¾¦æµ‹</h2>\n<p>æ•°æ®çš„æ¯æ¬¡è¯»å’Œå†™èƒ½å¤Ÿè¢«æˆ‘ä»¬çœ‹çš„è§ï¼Œå³æˆ‘ä»¬èƒ½å¤ŸçŸ¥é“æ•°æ®ä»€ä¹ˆæ—¶å€™è¢«è¯»å–äº†æˆ–æ•°æ®ä»€ä¹ˆæ—¶å€™è¢«æ”¹å†™äº†ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºæ•°æ®å˜çš„â€˜å¯è§‚æµ‹â€™ã€‚</p>\n<p>è¦å°†æ•°æ®å˜çš„â€˜å¯è§‚æµ‹â€™ï¼Œæˆ‘ä»¬å°±è¦å€ŸåŠ©å‰è¨€ä¸­æåˆ°çš„ <code>Object.defineProperty</code>  æ–¹æ³•äº†ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä½¿æ•°æ®å˜å¾— â€œå¯è§‚æµ‹â€ã€‚</p>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•°æ®å¯¹è±¡ <code>car</code> ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> car <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token string-property property\">'brand'</span><span class=\"token operator\">:</span> <span class=\"token string\">'BMW'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token string-property property\">'price'</span><span class=\"token operator\">:</span> <span class=\"token number\">3000</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æˆ‘ä»¬å®šä¹‰äº†è¿™ä¸ª <code>car</code>  çš„å“ç‰Œ <code>brand</code>  æ˜¯ <code>BMW</code> , ä»·æ ¼ <code>price</code>  æ˜¯ 3000ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>car.brand</code>  å’Œ <code>car.price</code>  ç›´æ¥è¯»å†™è¿™ä¸ª <code>car</code>  å¯¹åº”çš„å±æ€§å€¼ã€‚ä½†æ˜¯ï¼Œå½“è¿™ä¸ª <code>car</code>  çš„å±æ€§è¢«è¯»å–æˆ–ä¿®æ”¹æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥æƒ…ã€‚é‚£ä¹ˆåº”è¯¥å¦‚ä½•åšæ‰èƒ½å¤Ÿè®© <code>car</code>  ä¸»åŠ¨å‘Šè¯‰æˆ‘ä»¬ï¼Œå®ƒçš„å±æ€§è¢«ä¿®æ”¹äº†å‘¢ï¼Ÿ</p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Object.defineProperty()</code>  æ”¹å†™ä¸Šé¢çš„ä¾‹å­ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> car <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> val <span class=\"token operator\">=</span> <span class=\"token number\">3000</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>car<span class=\"token punctuation\">,</span> <span class=\"token string\">'price'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'priceå±æ€§è¢«è¯»å–äº†'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">return</span> val</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token function\">set</span><span class=\"token punctuation\">(</span>newVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'priceå±æ€§è¢«ä¿®æ”¹äº†'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    val <span class=\"token operator\">=</span> newVal</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>é€šè¿‡ <code>Object.defineProperty()</code>  æ–¹æ³•ç»™ <code>car</code>  å®šä¹‰äº†ä¸€ä¸ª <code>price</code>  å±æ€§ï¼Œå¹¶æŠŠè¿™ä¸ªå±æ€§çš„è¯»å’Œå†™åˆ†åˆ«ä½¿ç”¨ <code>get()</code>  å’Œ <code>set()</code>  è¿›è¡Œæ‹¦æˆªï¼Œæ¯å½“è¯¥å±æ€§è¿›è¡Œè¯»æˆ–å†™æ“ä½œçš„æ—¶å€™å°±ä¼šè§¦å‘ <code>get()</code>  å’Œ <code>set()</code> ã€‚å¦‚ä¸‹å›¾ï¼š</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/img_convert/402bc6ced78e56a71c1a80b3415fecda.png\" alt=\"\" /></p>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œ <code>car</code>  å·²ç»å¯ä»¥ä¸»åŠ¨å‘Šè¯‰æˆ‘ä»¬å®ƒçš„å±æ€§çš„è¯»å†™æƒ…å†µäº†ï¼Œè¿™ä¹Ÿæ„å‘³ç€ï¼Œè¿™ä¸ª <code>car</code>  çš„æ•°æ®å¯¹è±¡å·²ç»æ˜¯ â€œå¯è§‚æµ‹â€ çš„äº†ã€‚</p>\n<p>ä¸ºäº†æŠŠ <code>car</code>  çš„æ‰€æœ‰å±æ€§éƒ½å˜å¾—å¯è§‚æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æºç ä½ç½®ï¼šsrc/core/observer/index.js</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * Observer ç±»ä¼šé€šè¿‡é€’å½’çš„æ–¹å¼æŠŠä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½è½¬åŒ–æˆå¯è§‚æµ‹å¯¹è±¡</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Observer</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">// ç»™ value æ–°å¢ä¸€ä¸ª__ob__å±æ€§ï¼Œå€¼ä¸ºè¯¥ value çš„ Observer å®ä¾‹</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// ç›¸å½“äºä¸º value æ‰“ä¸Šæ ‡è®°ï¼Œè¡¨ç¤ºå®ƒå·²ç»è¢«è½¬åŒ–æˆå“åº”å¼äº†ï¼Œé¿å…é‡å¤æ“ä½œ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token function\">def</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span><span class=\"token string\">'__ob__'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token comment\">// å½“ value / ä¸ºæ•°ç»„æ—¶çš„é€»è¾‘</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token comment\">// ...</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">walk</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token function\">walk</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span> Object</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">const</span> keys <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> keys<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token function\">defineReactive</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> keys<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> * ä½¿ä¸€ä¸ªå¯¹è±¡è½¬åŒ–æˆå¯è§‚æµ‹å¯¹è±¡</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> * @param &#123;Object&#125; obj å¯¹è±¡</pre></td></tr><tr><td data-num=\"30\"></td><td><pre> * @param &#123; String &#125; key å¯¹è±¡çš„ key</pre></td></tr><tr><td data-num=\"31\"></td><td><pre> * @param &#123; Any &#125; val å¯¹è±¡çš„æŸä¸ª key çš„å€¼</pre></td></tr><tr><td data-num=\"32\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">defineReactive</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">obj<span class=\"token punctuation\">,</span>key<span class=\"token punctuation\">,</span>val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token comment\">// å¦‚æœåªä¼ äº† obj å’Œ keyï¼Œé‚£ä¹ˆ val = obj [key]</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    val <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> val <span class=\"token operator\">===</span> <span class=\"token string\">'object'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>      <span class=\"token keyword\">new</span> <span class=\"token class-name\">Observer</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>key<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">å±æ€§è¢«è¯»å–äº†</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>      <span class=\"token keyword\">return</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span>newVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>val <span class=\"token operator\">===</span> newVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>          <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>key<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">å±æ€§è¢«ä¿®æ”¹äº†</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>      val <span class=\"token operator\">=</span> newVal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº† <code>observer</code>  ç±»ï¼Œå®ƒç”¨æ¥å°†ä¸€ä¸ªæ­£å¸¸çš„ <code>object</code>  è½¬æ¢æˆå¯è§‚æµ‹çš„ <code>object</code> ã€‚</p>\n<p>å¹¶ä¸”ç»™ <code>value</code>  æ–°å¢ä¸€ä¸ª <code>__ob__</code> å±æ€§ï¼Œå€¼ä¸ºè¯¥ <code>value</code>  çš„ <code>Observer</code>  å®ä¾‹ã€‚è¿™ä¸ªæ“ä½œç›¸å½“äºä¸º <code>value</code>  æ‰“ä¸Šæ ‡è®°ï¼Œè¡¨ç¤ºå®ƒå·²ç»è¢«è½¬åŒ–æˆå“åº”å¼äº†ï¼Œé¿å…é‡å¤æ“ä½œ</p>\n<p>ç„¶ååˆ¤æ–­æ•°æ®çš„ç±»å‹ï¼Œåªæœ‰ <code>object</code>  ç±»å‹çš„æ•°æ®æ‰ä¼šè°ƒç”¨ <code>walk</code>  å°†æ¯ä¸€ä¸ªå±æ€§è½¬æ¢æˆ <code>getter/setter</code>  çš„å½¢å¼æ¥ä¾¦æµ‹å˜åŒ–ã€‚ æœ€åï¼Œåœ¨ <code>defineReactive</code>  ä¸­å½“ä¼ å…¥çš„å±æ€§å€¼è¿˜æ˜¯ä¸€ä¸ª <code>object</code>  æ—¶ä½¿ç”¨ <code>new observerï¼ˆvalï¼‰</code> æ¥é€’å½’å­å±æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠ <code>obj</code>  ä¸­çš„æ‰€æœ‰å±æ€§ï¼ˆåŒ…æ‹¬å­å±æ€§ï¼‰éƒ½è½¬æ¢æˆ <code>getter/seter</code>  çš„å½¢å¼æ¥ä¾¦æµ‹å˜åŒ–ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æˆ‘ä»¬å°†ä¸€ä¸ª <code>object</code>  ä¼ åˆ° <code>observer</code>  ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ª <code>object</code>  å°±ä¼šå˜æˆå¯è§‚æµ‹çš„ã€å“åº”å¼çš„ <code>object</code> ã€‚</p>\n<p><code>observer</code>  ç±»ä½äºæºç çš„ <code>src/core/observer/index.js</code>  ä¸­ã€‚</p>\n<p>é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å®šä¹‰ <code>car</code> :</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> car <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Observer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token string-property property\">'brand'</span><span class=\"token operator\">:</span><span class=\"token string\">'BMW'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token string-property property\">'price'</span><span class=\"token operator\">:</span><span class=\"token number\">3000</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œ <code>car</code>  çš„ä¸¤ä¸ªå±æ€§éƒ½å˜å¾—å¯è§‚æµ‹äº†ã€‚</p>\n<h1 id=\"äºŒ-vue3ä¸­çš„å®ç°æ–¹æ³•-proxy\"><a class=\"anchor\" href=\"#äºŒ-vue3ä¸­çš„å®ç°æ–¹æ³•-proxy\">#</a> äºŒã€VUE3 ä¸­çš„å®ç°æ–¹æ³• - Proxy</h1>\n<h2 id=\"1-æ¦‚è¿°\"><a class=\"anchor\" href=\"#1-æ¦‚è¿°\">#</a> 1. æ¦‚è¿°</h2>\n<p>Proxy æ˜¯ ES6 ä¸ºäº†æ“ä½œå¯¹è±¡å¼•å…¥çš„ API ã€‚</p>\n<p>Proxy å¯ä»¥å¯¹ç›®æ ‡å¯¹è±¡çš„è¯»å–ã€å‡½æ•°è°ƒç”¨ç­‰æ“ä½œè¿›è¡Œæ‹¦æˆªï¼Œç„¶åè¿›è¡Œæ“ä½œå¤„ç†ã€‚å®ƒä¸ç›´æ¥æ“ä½œå¯¹è±¡ï¼Œè€Œæ˜¯åƒä»£ç†æ¨¡å¼ï¼Œé€šè¿‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œåœ¨è¿›è¡Œè¿™äº›æ“ä½œæ—¶ï¼Œå¯ä»¥æ·»åŠ ä¸€äº›éœ€è¦çš„é¢å¤–æ“ä½œã€‚</p>\n<h2 id=\"2-åŸºæœ¬ç”¨æ³•\"><a class=\"anchor\" href=\"#2-åŸºæœ¬ç”¨æ³•\">#</a> 2. åŸºæœ¬ç”¨æ³•</h2>\n<p>ä¸€ä¸ª Proxy å¯¹è±¡ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š  <code>target</code> ã€ <code>handler</code>  ã€‚åœ¨é€šè¿‡  <code>Proxy</code>  æ„é€ å‡½æ•°ç”Ÿæˆå®ä¾‹å¯¹è±¡æ—¶ï¼Œéœ€è¦æä¾›è¿™ä¸¤ä¸ªå‚æ•°ã€‚  <code>target</code>  å³ç›®æ ‡å¯¹è±¡ï¼Œ <code>handler</code>  æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå£°æ˜äº†ä»£ç† <code>target</code>  çš„æŒ‡å®šè¡Œä¸ºã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> target <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Tom'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">24</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">let</span> handler <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'getting '</span><span class=\"token operator\">+</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">return</span> target<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ä¸æ˜¯ target.key</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token function-variable function\">set</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setting '</span><span class=\"token operator\">+</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        target<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">let</span> proxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>proxy<span class=\"token punctuation\">.</span>name     <span class=\"token comment\">// å®é™…æ‰§è¡Œ handler.get</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>proxy<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">25</span> <span class=\"token comment\">// å®é™…æ‰§è¡Œ handler.set</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// getting name</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\">// setting age</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">// 25</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre> </pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">//target å¯ä»¥ä¸ºç©ºå¯¹è±¡</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">let</span> targetEpt <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">let</span> proxyEpt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>targetEpt<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">// è°ƒç”¨ get æ–¹æ³•ï¼Œæ­¤æ—¶ç›®æ ‡å¯¹è±¡ä¸ºç©ºï¼Œæ²¡æœ‰ name å±æ€§</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>proxyEpt<span class=\"token punctuation\">.</span>name <span class=\"token comment\">// getting name</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// è°ƒç”¨ set æ–¹æ³•ï¼Œå‘ç›®æ ‡å¯¹è±¡ä¸­æ·»åŠ äº† name å±æ€§</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>proxyEpt<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Tom'</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\">// setting name</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\">// \"Tom\"</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\">// å†æ¬¡è°ƒç”¨ get ï¼Œæ­¤æ—¶å·²ç»å­˜åœ¨ name å±æ€§</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>proxyEpt<span class=\"token punctuation\">.</span>name</pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">// getting name</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\">// \"Tom\"</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre> </pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token comment\">// é€šè¿‡æ„é€ å‡½æ•°æ–°å»ºå®ä¾‹æ—¶å…¶å®æ˜¯å¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œäº†æµ…æ‹·è´ï¼Œå› æ­¤ç›®æ ‡å¯¹è±¡ä¸ä»£ç†å¯¹è±¡ä¼šäº’ç›¸</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\">// å½±å“</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>targetEpt</pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token comment\">// &#123;name: \"Tom\"&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre> </pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token comment\">//handler å¯¹è±¡ä¹Ÿå¯ä»¥ä¸ºç©ºï¼Œç›¸å½“äºä¸è®¾ç½®æ‹¦æˆªæ“ä½œï¼Œç›´æ¥è®¿é—®ç›®æ ‡å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token keyword\">let</span> targetEmpty <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token keyword\">let</span> proxyEmpty <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>targetEmpty<span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>proxyEmpty<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"Tom\"</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>targetEmpty <span class=\"token comment\">// &#123;name: \"Tom\"&#125;</span></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡  <code>Proxy</code>  æ¥å®ç°ä¸€ä¸ªæ•°æ®å“åº”å¼</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token constant\">DOCTYPE</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>html<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\t<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"ipt\"</span> oninput<span class=\"token operator\">=</span><span class=\"token string\">\"inputHandle()\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        \t<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"å¢åŠ \"</span> onclick<span class=\"token operator\">=</span><span class=\"token string\">\"add()\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t        <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"å‡å°‘\"</span> onclick<span class=\"token operator\">=</span><span class=\"token string\">\"reduce()\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"count\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">const</span> iptDom <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ipt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">const</span> countDom <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"count\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">const</span> tom <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tom\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">18</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">const</span> proxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>tom<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age è¢«è¯»å–\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                <span class=\"token keyword\">return</span> tom<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token function\">set</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age è¢«ä¿®æ”¹\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                obj<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                iptDom<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                countDom<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">function</span> <span class=\"token function\">add</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            proxy<span class=\"token punctuation\">.</span>age<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">function</span> <span class=\"token function\">reduce</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            proxy<span class=\"token punctuation\">.</span>age<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">function</span> <span class=\"token function\">inputHandle</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            proxy<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> iptDom<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span></pre></td></tr></table></figure><p>å½“ç„¶è¿™æ˜¯ç®€å•ç‰ˆçš„å“åº”å¼å®ç°ï¼Œå¦‚æœéœ€è¦å®ç°ä¸€ä¸ª Vue ä¸­çš„å“åº”å¼ï¼Œéœ€è¦æˆ‘ä»¬åœ¨ get ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨ set æ´¾å‘æ›´æ–°ï¼Œä¹‹æ‰€ä»¥ Vue3.0 è¦ä½¿ç”¨ Proxy æ›¿æ¢åŸæœ¬çš„ API åŸå› åœ¨äº Proxy æ— éœ€ä¸€å±‚å±‚é€’å½’ä¸ºæ¯ä¸ªå±æ€§æ·»åŠ ä»£ç†ï¼Œä¸€æ¬¡å³å¯å®Œæˆä»¥ä¸Šæ“ä½œï¼Œæ€§èƒ½ä¸Šæ›´å¥½ï¼Œå¹¶ä¸”åŸæœ¬çš„å®ç°æœ‰ä¸€äº›æ•°æ®æ›´æ–°ä¸èƒ½ç›‘å¬åˆ°ï¼Œä½†æ˜¯ Proxy å¯ä»¥å®Œç¾ç›‘å¬åˆ°ä»»ä½•æ–¹å¼çš„æ•°æ®æ”¹å˜ï¼Œå”¯ä¸€ç¼ºé™·å¯èƒ½å°±æ˜¯æµè§ˆå™¨çš„å…¼å®¹æ€§ä¸å¥½äº†ã€‚</p>\n<p>æºç ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">createReactiveObject</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token parameter\"><span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> Target<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token literal-property property\">isReadonly</span><span class=\"token operator\">:</span> boolean<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token literal-property property\">baseHandlers</span><span class=\"token operator\">:</span> ProxyHandler<span class=\"token operator\">&lt;</span>any<span class=\"token operator\">></span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token literal-property property\">collectionHandlers</span><span class=\"token operator\">:</span> ProxyHandler<span class=\"token operator\">&lt;</span>any<span class=\"token operator\">></span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token literal-property property\">proxyMap</span><span class=\"token operator\">:</span> WeakMap<span class=\"token operator\">&lt;</span>Target<span class=\"token punctuation\">,</span> any<span class=\"token operator\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isObject</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>__DEV__<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">value cannot be made reactive: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span><span class=\"token function\">String</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> target</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token comment\">// target is already a Proxy, return it.</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token comment\">// exception: calling readonly() on a reactive object</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    target<span class=\"token punctuation\">[</span>ReactiveFlags<span class=\"token punctuation\">.</span><span class=\"token constant\">RAW</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>isReadonly <span class=\"token operator\">&amp;&amp;</span> target<span class=\"token punctuation\">[</span>ReactiveFlags<span class=\"token punctuation\">.</span><span class=\"token constant\">IS_REACTIVE</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">return</span> target</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token comment\">// target already has corresponding Proxy</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">const</span> existingProxy <span class=\"token operator\">=</span> proxyMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>existingProxy<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">return</span> existingProxy</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token comment\">// only a whitelist of value types can be observed.</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token keyword\">const</span> targetType <span class=\"token operator\">=</span> <span class=\"token function\">getTargetType</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>targetType <span class=\"token operator\">===</span> TargetType<span class=\"token punctuation\">.</span><span class=\"token constant\">INVALID</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">return</span> target</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token keyword\">const</span> proxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    target<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    targetType <span class=\"token operator\">===</span> TargetType<span class=\"token punctuation\">.</span><span class=\"token constant\">COLLECTION</span> <span class=\"token operator\">?</span> collectionHandlers <span class=\"token operator\">:</span> baseHandlers</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  proxyMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> proxy<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token keyword\">return</span> proxy</pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"proxyå®ç°ç®€ç‰ˆvue\"><a class=\"anchor\" href=\"#proxyå®ç°ç®€ç‰ˆvue\">#</a> Proxy å®ç°ç®€ç‰ˆ Vue</h2>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>æ ‡é¢˜<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>count<span class=\"token punctuation\">'</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>å¢åŠ <span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>add<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>å‡å°‘<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>reduce<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-bind</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>count<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">   </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">class</span> <span class=\"token class-name\">Vue</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>          <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$methods <span class=\"token operator\">=</span> options<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_binding <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_observer</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_compile</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>          <span class=\"token function\">_pushWatcher</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">watcher</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_binding<span class=\"token punctuation\">[</span>watcher<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>              <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_binding<span class=\"token punctuation\">[</span>watcher<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_binding<span class=\"token punctuation\">[</span>watcher<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>watcher<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>          <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>           observer çš„ä½œç”¨æ˜¯èƒ½å¤Ÿå¯¹æ‰€æœ‰çš„æ•°æ®è¿›è¡Œç›‘å¬æ“ä½œï¼Œé€šè¿‡ä½¿ç”¨ Proxy å¯¹è±¡</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>           ä¸­çš„ set æ–¹æ³•æ¥ç›‘å¬ï¼Œå¦‚æœ‰å‘ç”Ÿå˜åŠ¨å°±ä¼šæ‹¿åˆ°æœ€æ–°å€¼é€šçŸ¥è®¢é˜…è€…ã€‚</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>          */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>          <span class=\"token function\">_observer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">datas</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token keyword\">const</span> me <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>              <span class=\"token function\">set</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>                <span class=\"token keyword\">const</span> rets <span class=\"token operator\">=</span> Reflect<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>                me<span class=\"token punctuation\">.</span>_binding<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                  item<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                <span class=\"token keyword\">return</span> rets<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>              <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$data <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>datas<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>          <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>           æŒ‡ä»¤è§£æå™¨ï¼Œå¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æå’Œè§£æï¼Œæ ¹æ®æŒ‡ä»¤æ¨¡æ¿æ›¿æ¢æ•°æ®ï¼Œä»¥åŠç»‘å®šç›¸å¯¹åº”çš„æ›´æ–°å‡½æ•°</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>          */</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>          <span class=\"token function\">_compile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">root</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token keyword\">const</span> nodes <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            nodes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>              <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>children <span class=\"token operator\">&amp;&amp;</span> node<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_compile</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>              <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>              <span class=\"token keyword\">const</span> $input <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>tagName<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"INPUT\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>              <span class=\"token keyword\">const</span> $textarea <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>tagName<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"TEXTAREA\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>              <span class=\"token keyword\">const</span> $vmodel <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">hasAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'v-model'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>              <span class=\"token comment\">// å¦‚æœæ˜¯ input æ¡† æˆ– textarea çš„è¯ï¼Œå¹¶ä¸”å¸¦æœ‰ v-model å±æ€§çš„</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>              <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>$vmodel <span class=\"token operator\">&amp;&amp;</span> $input<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>$vmodel <span class=\"token operator\">&amp;&amp;</span> $textarea<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'v-model'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_pushWatcher</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Watcher</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">,</span> <span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>                node<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>                  data<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>              <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>              <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span><span class=\"token function\">hasAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'v-bind'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>                <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'v-bind'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_pushWatcher</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Watcher</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">,</span> <span class=\"token string\">'innerHTML'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>              <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>              <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span><span class=\"token function\">hasAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@click'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>                <span class=\"token keyword\">const</span> methodName <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@click'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>                <span class=\"token keyword\">const</span> method <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$methods<span class=\"token punctuation\">[</span>methodName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>                node<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>              <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>         watcher çš„ä½œç”¨æ˜¯ é“¾æ¥ Observer å’Œ Compile çš„æ¡¥æ¢ï¼Œèƒ½å¤Ÿè®¢é˜…å¹¶æ”¶åˆ°æ¯ä¸ªå±æ€§å˜åŠ¨çš„é€šçŸ¥ï¼Œ</pre></td></tr><tr><td data-num=\"81\"></td><td><pre>         æ‰§è¡ŒæŒ‡ä»¤ç»‘å®šçš„å“åº”çš„å›è°ƒå‡½æ•°ï¼Œä»è€Œæ›´æ–°è§†å›¾ã€‚</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        */</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">class</span> <span class=\"token class-name\">Watcher</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>          <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node<span class=\"token punctuation\">,</span> attr<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>node <span class=\"token operator\">=</span> node<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>attr <span class=\"token operator\">=</span> attr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>          <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>attr<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>      </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>          <span class=\"token literal-property property\">el</span><span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>          <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>            <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>          <span class=\"token literal-property property\">methods</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>              <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>            <span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>              <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>      </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h1 id=\"ç›¸å…³æ–‡æ¡£\"><a class=\"anchor\" href=\"#ç›¸å…³æ–‡æ¡£\">#</a> ç›¸å…³æ–‡æ¡£</h1>\n<ol>\n<li>Object.defineProperty MDN æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2RlZmluZVByb3BlcnR5\">æ–‡æ¡£é“¾æ¥</span></li>\n<li>Proxy MDN æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJveHk=\">æ–‡æ¡£é“¾æ¥</span></li>\n</ol>\n",
            "tags": [
                "å‰ç«¯",
                "Vue"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/deno/deno%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-HelloWorld%E6%A1%88%E4%BE%8B/",
            "url": "https://mk965.github.io/frontend-end/deno/deno%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-HelloWorld%E6%A1%88%E4%BE%8B/",
            "title": "deno å¿«é€Ÿä¸Šæ‰‹ - Hello World æ¡ˆä¾‹",
            "date_published": "2020-11-09T06:08:05.000Z",
            "content_html": "<h2 id=\"1-å®‰è£…\"><a class=\"anchor\" href=\"#1-å®‰è£…\">#</a> 1. å®‰è£…</h2>\n<blockquote>\n<p>é€šè¿‡å•è¡Œå‘½ä»¤å°† Deno å®‰è£…åˆ°ç³»ç»Ÿä¸­ï¼ˆå›½å†…åŠ é€Ÿï¼‰<br />\nå®‰è£…å†…å®¹è½¬è½½è‡ª <span class=\"exturl\" data-url=\"aHR0cHM6Ly94LmRlbm8uanMuY24v\">Deno ä¸­æ–‡ç¤¾åŒº</span></p>\n</blockquote>\n<h4 id=\"å®‰è£…æœ€æ–°ç‰ˆ\"><a class=\"anchor\" href=\"#å®‰è£…æœ€æ–°ç‰ˆ\">#</a> å®‰è£…æœ€æ–°ç‰ˆï¼š</h4>\n<p>ä½¿ç”¨ Shell:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">curl</span> -fsSL https://x.deno.js.cn/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">sh</span></pre></td></tr></table></figure><p>ä½¿ç”¨ PowerShell:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>iwr https://x.deno.js.cn/install.ps1 -useb <span class=\"token operator\">|</span> iex</pre></td></tr></table></figure><h4 id=\"å®‰è£…æŸä¸ªç‰¹å®šç‰ˆæœ¬\"><a class=\"anchor\" href=\"#å®‰è£…æŸä¸ªç‰¹å®šç‰ˆæœ¬\">#</a> å®‰è£…æŸä¸ªç‰¹å®šç‰ˆæœ¬ï¼š</h4>\n<p>ä½¿ç”¨ Shell:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">curl</span> -fsSL https://x.deno.js.cn/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">sh</span> -s v1.0.0</pre></td></tr></table></figure><p>ä½¿ç”¨ PowerShell:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$v</span><span class=\"token operator\">=</span><span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">;</span> iwr https://x.deno.js.cn/install.ps1 -useb <span class=\"token operator\">|</span> iex</pre></td></tr></table></figure><h4 id=\"ä½¿ç”¨åŒ…ç®¡ç†å™¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨åŒ…ç®¡ç†å™¨\">#</a> ä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼š</h4>\n<p>ä½¿ç”¨ Scoop:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>scoop <span class=\"token function\">install</span> deno</pre></td></tr></table></figure><p>ä½¿ç”¨ Homebrew:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>brew <span class=\"token function\">install</span> deno</pre></td></tr></table></figure><p>ä½¿ç”¨ Chocolatey:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>choco <span class=\"token function\">install</span> deno</pre></td></tr></table></figure><h4 id=\"ä½¿ç”¨å¤šç‰ˆæœ¬ç®¡ç†å·¥å…·\"><a class=\"anchor\" href=\"#ä½¿ç”¨å¤šç‰ˆæœ¬ç®¡ç†å·¥å…·\">#</a> ä½¿ç”¨å¤šç‰ˆæœ¬ç®¡ç†å·¥å…·</h4>\n<p>ä½¿ç”¨ Yay (AUR) (deno å’Œ deno-bin):</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># From source</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>yay -S deno</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># Pre-compiled</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>yay -S deno-bin</pre></td></tr></table></figure><p>ä½¿ç”¨ asdf å’Œ asdf-deno:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>asdf plugin-add deno https://github.com/asdf-community/asdf-deno.git</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>asdf <span class=\"token function\">install</span> deno <span class=\"token number\">1.0</span>.0</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># Activate globally with:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>asdf global deno <span class=\"token number\">1.0</span>.0</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># Activate locally in the current folder with:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>asdf <span class=\"token builtin class-name\">local</span> deno <span class=\"token number\">1.0</span>.0</pre></td></tr></table></figure><p>ä½¿ç”¨ Scoop:</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å®‰è£…æŸä¸ªç‰¹å®šç‰ˆæœ¬çš„ Denoï¼š</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>scoop <span class=\"token function\">install</span> deno@1.0.0</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># åˆ‡æ¢åˆ° v1.0.0</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>scoop reset deno@1.0.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#åˆ‡æ¢åˆ°æœ€æ–°ç‰ˆ</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>scoop reset deno</pre></td></tr></table></figure><h2 id=\"2-hello-world\"><a class=\"anchor\" href=\"#2-hello-world\">#</a> 2. Hello World</h2>\n<p>æ–°å»ºä¸€ä¸ª  <code>demo.ts</code>  å¹¶è¾“å…¥  <code>console.log('Hello Wrold!')</code> ï¼›<br />\næ‰“å¼€ git æˆ– cmdï¼Œè¾“å…¥ <code>deno run ./demo.ts</code> ï¼Œå°±å¯ä»¥çœ‹åˆ°æ‰“å°çš„ç»“æœäº†ï¼š<br />\n<img data-src=\"https://img-blog.csdnimg.cn/20201109115420167.png#pic_center\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<h2 id=\"3-http-è¯·æ±‚\"><a class=\"anchor\" href=\"#3-http-è¯·æ±‚\">#</a> 3. HTTP è¯·æ±‚</h2>\n<p>åœ¨ deno ä¸­æ¯”è¾ƒæ¨èä½¿ç”¨ fetch æ¥å‘é€ HTTP<br />\n è¯·æ±‚ï¼Œ</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://8jsj.cn'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> body <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">await</span> Deno<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ¥æ”¶åˆ°å“åº”ä¹‹åé€šè¿‡  <code>new Uint8Array()</code>  å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvVWludDhBcnJheQ==\">Unit8Array</span> å­˜åˆ° body å˜é‡ä¸­ã€‚æœ€åä¸€å¥ä»£ç åˆ™æ˜¯æŠŠ body çš„å†…å®¹å†™å…¥æ ‡å‡†è¾“å‡ºæµ stdoutã€‚</p>\n<p>è¿è¡Œ  <code>deno run demo.ts</code> ï¼Œå‘ç°ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>error: Uncaught <span class=\"token punctuation\">(</span>in promise<span class=\"token punctuation\">)</span> PermissionDenied: network access to <span class=\"token string\">\"http://8jsj.cn/\"</span>, run again with the --allow-net flag</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    at processResponse <span class=\"token punctuation\">(</span>core.js:224:13<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    at Object.jsonOpAsync <span class=\"token punctuation\">(</span>core.js:242:12<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    at async fetch <span class=\"token punctuation\">(</span>deno:op_crates/fetch/26_fetch.js:1274:29<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    at async file:///C:/Users/JIGUANG/Desktop/demo.ts:1:13</pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸º Deno é»˜è®¤ä½¿ç”¨å®‰å…¨ç¯å¢ƒæ¥æ‰§è¡Œä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è¯·æ±‚ä¸è¢«å…è®¸ï¼Œæˆ‘ä»¬éœ€è¦  <code>--allow-net</code>  æ¥æˆæƒç½‘ç»œè®¿é—®ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>deno run --allow-net<span class=\"token operator\">=</span>8jsj.cn demo.ts</pre></td></tr></table></figure><p><img data-src=\"https://img-blog.csdnimg.cn/20201109135938407.png#pic_center\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<h2 id=\"4-è¯»å–æ–‡ä»¶\"><a class=\"anchor\" href=\"#4-è¯»å–æ–‡ä»¶\">#</a> 4. è¯»å–æ–‡ä»¶</h2>\n<p>å¯¹äºæ–‡ä»¶çš„è¯»å–æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Deno çš„å†…ç½® API  <code>Deno.readFile</code>  æ¥è¿›è¡Œï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> decoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextDecoder</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Deno<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>decoder<span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>åŒæ ·åœ¨è¯»å–æ–‡ä»¶æ—¶æˆ‘ä»¬ä¹Ÿéœ€è¦æˆæƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨  <code>allow-read</code>  ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>deno run --allow-read<span class=\"token operator\">=</span>hello.txt demo.ts</pre></td></tr></table></figure><p><img data-src=\"https://img-blog.csdnimg.cn/20201109140719544.png#pic_center\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n",
            "tags": [
                "å‰ç«¯",
                "done"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/Vue/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BVue3/",
            "url": "https://mk965.github.io/frontend-end/Vue/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BVue3/",
            "title": "å¿«é€Ÿä¸Šæ‰‹ Vue3",
            "date_published": "2020-11-03T12:46:27.000Z",
            "content_html": "<h2 id=\"1-vue3çš„ç‰¹ç‚¹\"><a class=\"anchor\" href=\"#1-vue3çš„ç‰¹ç‚¹\">#</a> 1ã€Vue3 çš„ç‰¹ç‚¹</h2>\n<ol>\n<li>vue3 ä¸­å…¨éƒ¨é‡‡ç”¨å‡½æ•°å¼å†™æ³•ï¼Œæ›¿æ¢äº†åŸæ¥ç±»çš„å†™æ³•ã€‚</li>\n<li>ç§»é™¤äº†åŸæœ‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå’Œ  <code>data</code> ã€ <code>computed</code> ã€ <code>watch</code> ã€ <code>method</code>  ç­‰ vue2 ä¸­çš„å¯¹è±¡ï¼Œå»æ‰äº†  <code>this</code> , å¹¶ä¸”å»é™¤äº†è¿‡æ»¤å™¨  <code>filter</code> ã€‚</li>\n<li>vue3 æºç å…¨éƒ¨é‡‡ç”¨ ts ç¼–å†™ï¼Œç¼–ç ä¸­å®ç°äº†å¯¹ ts æ›´å¥½çš„æ”¯æŒã€‚</li>\n<li>vue3 å®Œå…¨å…¼å®¹ vue2ï¼Œåœ¨ vue3 ä¸­ä¾ç„¶å¯ä»¥æŒ‰ç…§ vue2 çš„æ–¹å¼å»å†™ä»£ç ï¼Œè€Œä¸”ä¸¤ç§å†™æ³•å¯ä»¥åŒæ—¶å­˜åœ¨ã€‚</li>\n<li>ç»„ä»¶ä¸­åŒæ—¶å­˜åœ¨ä¸¤ç§å†™æ³•æ—¶ï¼Œå½“ setup è¿”å›å€¼ä¸­å®šä¹‰çš„æ–¹æ³•å’Œ methods ä¸­çš„æ–¹æ³•åŒåæ—¶ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚<br />\nå®šä¹‰çš„æ•°æ®å’Œ data å®šä¹‰çš„æ•°æ®å­—æ®µç›¸åŒæ—¶ï¼Œä¼šè¢« data å®šä¹‰çš„å­—æ®µè¦†ç›–</li>\n<li>vue3 é‡‡ç”¨  <code>proxy</code>  çš„æ–¹å¼å®ç°æ•°æ®ä»£ç†ï¼Œåªä¼šä»£ç†ç¬¬ä¸€å±‚æ•°æ®   é¿å…äº† vue2 ä¸­å¯¹ data çš„æ·±å±‚é€’å½’ï¼Œæå‡äº†ç»„ä»¶æ¸²æŸ“æ€§èƒ½ã€‚</li>\n</ol>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åœ¨ vue3 ä¸­å®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">obj</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>state<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>obj <span class=\"token operator\">=</span> xxx<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>ä¸Šä¾‹ä¸­ï¼Œè¿”å›çš„ state æ˜¯ä¸€ä¸ª proxy å¯¹è±¡ï¼Œé»˜è®¤åªä¼šå¯¹ data è¿›è¡Œä»£ç†<br />\né‚£ä¹ˆ vue3 æ˜¯æ€ä¹ˆå®ç°æ·±å±‚æ•°æ®åŠ«æŒå‘¢ï¼Œä¾‹å¦‚æˆ‘ä»¬è¦ä¿®æ”¹ obj é‚£ä¹ˆæ˜¯æ€ä¹ˆç›‘å¬åˆ° obj çš„ä¿®æ”¹å‘¢ï¼Ÿ<br />\nå½“æˆ‘ä»¬è¦å¯¹æ·±å±‚å¯¹è±¡ obj è¿›è¡Œä¿®æ”¹æ—¶ï¼Œä¼šè°ƒç”¨  <code>state.data</code>  çš„  <code>get</code>  æ–¹æ³•ï¼Œåœ¨  <code>get</code>  æ–¹æ³•ä¸­ä¼šå¯¹  <code>state.data</code>  è¿›è¡Œä»£ç†ï¼ŒåŠ«æŒ  <code>state.data</code>  ä¸­çš„å±æ€§ï¼Œ  <code>get</code>  æ–¹æ³•è¿”å›çš„ä¸æ˜¯  <code>state.data</code>  æœ¬èº«ï¼Œè€Œæ˜¯è¢«  <code>proxy</code>  ä»£ç†è¿‡çš„å¯¹è±¡ï¼Œä»è€Œå·§å¦™çš„å®ç°äº†æ·±å±‚æ•°æ®åŠ«æŒï¼Œåœ¨ç”¨åˆ°è¯¥å±æ€§çš„æ—¶å€™ä¸€å®šä¼šè°ƒç”¨çˆ¶çº§çš„  <code>get</code>  æ–¹æ³•ï¼Œè¿™æ—¶å€™æ‰ä¼šå»åŠ«æŒå±æ€§çš„  <code>get</code>  å’Œ  <code>set</code>  æ–¹æ³•ã€‚</p>\n<h2 id=\"2-setupå‡½æ•°\"><a class=\"anchor\" href=\"#2-setupå‡½æ•°\">#</a> 2ã€setup å‡½æ•°</h2>\n<h4 id=\"setupå‡½æ•°æ˜¯vue3ä¸­æ‰€æœ‰apiçš„å…¥å£å’Œå‡ºå£\"><a class=\"anchor\" href=\"#setupå‡½æ•°æ˜¯vue3ä¸­æ‰€æœ‰apiçš„å…¥å£å’Œå‡ºå£\">#</a> setup å‡½æ•°æ˜¯ vue3 ä¸­æ‰€æœ‰ api çš„å…¥å£å’Œå‡ºå£</h4>\n<p>vue3 ä¸­ç”¨  <code>setup</code>  å‡½æ•°æ•´åˆäº†æ‰€æœ‰çš„ apiï¼Œ <code>setup</code>  å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°å‰æ‰§è¡Œï¼Œæ‰€ä»¥åœ¨  <code>setup</code>  å‡½æ•°ä¸­æ‹¿ä¸åˆ°å½“å‰å®ä¾‹  <code>this</code> ï¼Œä¸èƒ½ç”¨  <code>this</code>  æ¥è°ƒç”¨ vue2 å†™æ³•ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚</p>\n<p>vue3 ä¸­å»æ‰äº†  <code>data</code> ï¼Œä½¿ç”¨  <code>setup</code>  çš„è¿”å›å€¼æ¥ç»™æ¨¡æ¿ç»‘å®š value<br />\nreturn çš„å¯¹è±¡å¦‚æœæ˜¯å¸¸é‡ï¼Œä¸ä¼šå˜æˆå“åº”å¼æ•°æ®ã€‚</p>\n<p><code>this.$emit</code>  ç”¨  <code>context.emit</code>  æ–¹æ³•æ¥æ›¿ä»£ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//props - ç»„ä»¶æ¥å—åˆ°çš„å±æ€§ï¼Œ context - ä¸Šä¸‹æ–‡ </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> context</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\">// è¦ç»‘å®šçš„æ•°æ®å’Œæ–¹æ³•</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"3-ç”Ÿå‘½å‘¨æœŸ\"><a class=\"anchor\" href=\"#3-ç”Ÿå‘½å‘¨æœŸ\">#</a> 3ã€ç”Ÿå‘½å‘¨æœŸ</h2>\n<p>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œéƒ½å˜æˆäº†å›è°ƒçš„å½¢å¼ï¼Œå†™åœ¨ setup å‡½æ•°ä¸­ å¯ä»¥ä¸€æ¬¡å†™å¤šä¸ªç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ŒæŒ‰ç…§æ³¨å†Œé¡ºåºæ‰§è¡Œã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token function\">onMounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç»„ä»¶æŒ‚è½½1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function\">onMounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç»„ä»¶æŒ‚è½½2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token function\">onUnmounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç»„ä»¶å¸è½½'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token function\">onUpdated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç»„ä»¶æ›´æ–°'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token function\">onBeforeUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ç»„ä»¶å°†è¦æ›´æ–°'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token function\">onActivated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keepAlive ç»„ä»¶ æ¿€æ´»'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token function\">onDeactivated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keepAlive ç»„ä»¶ éæ¿€æ´»'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr></table></figure><h2 id=\"4-ref-ç®€å•çš„å“åº”å¼æ•°æ®\"><a class=\"anchor\" href=\"#4-ref-ç®€å•çš„å“åº”å¼æ•°æ®\">#</a> 4ã€ref - ç®€å•çš„å“åº”å¼æ•°æ®</h2>\n<ol>\n<li>ref å¯ä»¥å°†æŸä¸ªæ™®é€šå€¼åŒ…è£…æˆå“åº”å¼æ•°æ®ï¼Œä»…é™äºç®€å•å€¼ï¼Œå†…éƒ¨æ˜¯å°†å€¼åŒ…è£…æˆå¯¹è±¡ï¼Œå†é€šè¿‡  <code>defineProperty</code>  æ¥å¤„ç†çš„ã€‚<br />\né€šè¿‡ ref åŒ…è£…çš„å€¼ï¼Œå–å€¼å’Œè®¾ç½®å€¼çš„æ—¶å€™ï¼Œéœ€ç”¨é€šè¿‡ value æ¥è¿›è¡Œè®¾ç½®</li>\n<li>å¯ä»¥ç”¨ ref æ¥è·å–ç»„ä»¶çš„å¼•ç”¨ï¼Œæ›¿ä»£  <code>this.$refs</code>  çš„å†™æ³•ã€‚</li>\n</ol>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"mine\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token operator\">&lt;</span>input v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"inputVal\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"addTodo\"</span><span class=\"token operator\">></span>æ·»åŠ <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token operator\">&lt;</span>li v<span class=\"token operator\">-</span><span class=\"token keyword\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"(item, i) in todoList\"</span> <span class=\"token operator\">:</span>key<span class=\"token operator\">=</span><span class=\"token string\">\"i\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>swigï¿¼<span class=\"token number\">0</span><span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">const</span> inputVal <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">const</span> todoList <span class=\"token operator\">=</span> ref<span class=\"token operator\">&lt;</span>string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">addTodo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      todoList<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>inputVal<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      inputVal<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      addTodo<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      inputVal<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      todoList<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr></table></figure><h2 id=\"5-reactive-æ•°æ®ç»‘å®š\"><a class=\"anchor\" href=\"#5-reactive-æ•°æ®ç»‘å®š\">#</a> 5ã€reactive - æ•°æ®ç»‘å®š</h2>\n<p>ä½¿ç”¨ reactive æ¥å¯¹å¤æ‚æ•°æ®è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ª proxy å¯¹è±¡ï¼Œåœ¨  <code>setup</code>  å‡½æ•°ä¸­è¿”å›æ—¶ï¼Œå¯ä»¥ç”¨  <code>toRefs</code>  å¯¹ proxy å¯¹è±¡è¿›è¡Œç»“æ„ï¼Œæ–¹ä¾¿åœ¨ template ä¸­ä½¿ç”¨ã€‚</p>\n<p>é€šè¿‡ reactive æ¥åˆ›å»ºå“åº”å¼æ•°æ® data ï¼Œç”¨  <code>toRefs</code>  æ¥è¿›è¡Œè§£æ„ï¼Œåœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨  <code>inputVal</code> ã€ <code>todoList</code> ã€‚</p>\n<p>æ¨¡æ¿ä¸­ç»‘å®šçš„æ–¹æ³•ä¹Ÿéœ€è¦ åœ¨ setup å‡½æ•°ä¸­å®šä¹‰ï¼Œå¹¶è¿”å›ï¼Œæ‰èƒ½ç»‘å®šåˆ°æ¨¡æ¿ä¸­ï¼Œä¾‹å¦‚ addTodo æ–¹æ³•ã€‚</p>\n<p>vue3 æ¨¡æ¿ï¼šä¸€ä¸ª templage å¯ä»¥æœ‰å¤šä¸ªå¹³çº§çš„æ ‡ç­¾ï¼ˆvue2 ä¸­åªèƒ½åœ¨ template å†™ä¸€ä¸ªå­æ ‡ç­¾ï¼‰</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"mine\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token operator\">&lt;</span>input v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"inputVal\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"addTodo\"</span><span class=\"token operator\">></span>æ·»åŠ <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token operator\">&lt;</span>li v<span class=\"token operator\">-</span><span class=\"token keyword\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"(item, i) in todoList\"</span> <span class=\"token operator\">:</span>key<span class=\"token operator\">=</span><span class=\"token string\">\"i\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>swigï¿¼<span class=\"token number\">1</span><span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token literal-property property\">inputVal</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token literal-property property\">todoList</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">addTodo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      data<span class=\"token punctuation\">.</span>todoList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>inputVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      data<span class=\"token punctuation\">.</span>inputVal <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token operator\">...</span><span class=\"token function\">toRefs</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      addTodo<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr></table></figure><h2 id=\"6-computed\"><a class=\"anchor\" href=\"#6-computed\">#</a> 6ã€computed</h2>\n<p>è®¡ç®—å±æ€§ï¼Œå˜æˆäº†å‡½æ•°å†™æ³•ï¼Œå½“ä¾èµ–çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ä¼šé‡æ–°è®¡ç®—  computed åŒ…è£…åçš„å€¼ï¼Œéœ€è¦ç”¨  <code>.value</code>  å»å–å€¼ï¼Œtemplate ä¸­ä¸éœ€è¦ä½¿ç”¨  <code>.value</code> ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">async</span> <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">let</span> sum <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> data<span class=\"token punctuation\">.</span>a <span class=\"token operator\">+</span> data<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> sum <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr></table></figure><h2 id=\"7-watch\"><a class=\"anchor\" href=\"#7-watch\">#</a> 7ã€watch</h2>\n<p>å˜æˆäº†å‡½æ•°å†™æ³•ï¼Œä¸ vue2 ä¸­ç”¨æ³•ç›¸åŒã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ä¾¦å¬ä¸€ä¸ª</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">watch</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">(</span><span class=\"token parameter\">count<span class=\"token punctuation\">,</span> prevCount</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/* ... */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// ç›´æ¥ä¾¦å¬ä¸€ä¸ª ref</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">count<span class=\"token punctuation\">,</span> prevCount</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token comment\">/* ... */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"8-watcheffect\"><a class=\"anchor\" href=\"#8-watcheffect\">#</a> 8ã€watchEffect</h2>\n<p>å“åº”å¼åœ°è·Ÿè¸ªå‡½æ•°ä¸­å¼•ç”¨çš„å“åº”å¼æ•°æ®ï¼Œå½“å“åº”å¼æ•°æ®æ”¹å˜æ—¶ï¼Œä¼šé‡æ–°æ‰§è¡Œå‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// å½“ count çš„å€¼è¢«ä¿®æ”¹æ—¶ï¼Œä¼šæ‰§è¡Œå›è°ƒ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">watchEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"9-vue-router\"><a class=\"anchor\" href=\"#9-vue-router\">#</a> 9ã€vue-router</h2>\n<p>ç»„ä»¶ä¸­ä½¿ç”¨è·¯ç”±æ—¶ç”¨ useRoute å’Œ useRouterã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>useRoute<span class=\"token punctuation\">,</span> useRouter<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-router'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> route <span class=\"token operator\">=</span> <span class=\"token function\">useRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç›¸å½“äº vue2 ä¸­çš„ this.$route</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç›¸å½“äº vue2 ä¸­çš„ this.$router</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">//route   ç”¨äºè·å–å½“å‰è·¯ç”±æ•°æ®</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">//router  å¯ä»¥çš„å¾—åˆ°ä¸€äº›å…³äºè·¯ç”±çš„æ–¹æ³•</span></pre></td></tr></table></figure><h2 id=\"10-vuex\"><a class=\"anchor\" href=\"#10-vuex\">#</a> 10ã€vuex</h2>\n<p>ä½¿ç”¨  <code>useStore</code>  æ¥è·å–  <code>store</code>  å¯¹è±¡ ä» vuex ä¸­å–å€¼æ—¶ï¼Œè¦æ³¨æ„å¿…é¡»ä½¿ç”¨  <code>computed</code>  è¿›è¡ŒåŒ…è£…ï¼Œè¿™æ · vuex ä¸­çŠ¶æ€ä¿®æ”¹åæ‰èƒ½åœ¨é¡µé¢ä¸­å“åº”ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>useStore<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vuex'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">useStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç›¸å½“äº vue2 ä¸­çš„ this.$store</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é€šè¿‡ store å¯¹è±¡æ¥ dispatch æ´¾å‘å¼‚æ­¥ä»»åŠ¡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    store<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//commit ä¿®æ”¹ store æ•°æ®</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">let</span> category <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>home<span class=\"token punctuation\">.</span>currentCagegory</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span> category <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"11-ç”¨-jsx-æ¥å®šä¹‰-vue-ç»„ä»¶\"><a class=\"anchor\" href=\"#11-ç”¨-jsx-æ¥å®šä¹‰-vue-ç»„ä»¶\">#</a> 11ã€ç”¨ jsx æ¥å®šä¹‰ vue ç»„ä»¶</h2>\n<p>vue3 ä¸­æ”¯æŒä½¿ç”¨ jsx è¯­æ³•æ¥å®šä¹‰ vue ç»„ä»¶ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> AppMenus <span class=\"token operator\">=</span> <span class=\"token function\">defineComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"app-menus\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>          <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>è¿™æ˜¯ä¸€ä¸ªvueç»„ä»¶<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"12-æ’æ§½ä¿®æ”¹\"><a class=\"anchor\" href=\"#12-æ’æ§½ä¿®æ”¹\">#</a> 12ã€æ’æ§½ä¿®æ”¹</h2>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slot</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>slot</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slot</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>slot</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slot</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>footer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>slot</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure>",
            "tags": [
                "å‰ç«¯",
                "Vue"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/Vue/%E5%B0%9D%E9%B2%9CVue3.0%E7%BB%84%E5%90%88%E5%BC%8FAPI/",
            "url": "https://mk965.github.io/frontend-end/Vue/%E5%B0%9D%E9%B2%9CVue3.0%E7%BB%84%E5%90%88%E5%BC%8FAPI/",
            "title": "å°é²œVue3.0ç»„åˆå¼API",
            "date_published": "2020-09-06T09:46:46.000Z",
            "content_html": "<p>Vue 3.0 å³å°†å‘å¸ƒï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å°è¯•ä¸€äº›æ–°ç‰ˆæœ¬ä¸­å¸¦æ¥çš„æ–°åŠŸèƒ½ï¼Œæ¯”å¦‚ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9jb21wb3NpdGlvbi1hcGkudnVlanMub3JnLw==\">Composition-API ç»„åˆå¼ API</span>ã€‚å¦‚æœä½ äº†è§£è¿‡ React çš„ Hooksï¼Œé‚£ä¹ˆå½“ä½ çœ‹åˆ°ç»„åˆå¼ API æ—¶ä¸€å®šä¸ä¼šæ„Ÿåˆ°é™Œç”Ÿã€‚ç»„åˆå¼ API å—åˆ°äº† React Hooks å¾ˆå¤§çš„å¯å‘ã€‚</p>\n<p>Vue éå¸¸æ˜“äºä½¿ç”¨ï¼Œå¹¶ä¸”æœ‰éå¸¸å‡ºè‰²çš„ APIï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´é…åˆå®˜æ–¹æ–‡æ¡£å¾ˆå®¹æ˜“å°±å¯ä»¥ç†è§£ Vue çš„è¯­æ³•ã€‚ä½†åœ¨å›½å†…ä¸€äº›å¤§å‹çš„é¡¹ç›®å¯èƒ½ä¸ä¼šé¦–é€‰ Vue å»å¼€å‘ï¼Œå› ä¸ºå½“ç»„ä»¶è¶Šæ¥è¶Šå¤§çš„æ—¶å€™ä¼šå˜å¾—å¾ˆéš¾ç»´æŠ¤ï¼Œå¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªå˜é‡åœ¨å“ªè¢«å®šä¹‰åˆæ˜¯åœ¨å“ªè¢«ä½¿ç”¨ã€‚Vue2 ä¸­ä¹Ÿæœ‰ä¸€äº›è§£å†³æ–¹æ³•ï¼Œæ¯”å¦‚ mixinã€HOCã€ä½œç”¨åŸŸæ’æ§½ç­‰ç­‰ï¼Œä½†æ˜¯éƒ½ä¸èƒ½éå¸¸å®Œç¾çš„å»è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>\n<p>è¯´åˆ° mixinï¼Œå…¶å® mixin éå¸¸ç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥æŠŠä¸€äº›å…¬å…±çš„æ•°æ®ã€æ–¹æ³•ç­‰ç­‰è¿›è¡ŒæŠ½ç¦»ååˆå¹¶åˆ°ä¸€ä¸ªç»„ä»¶ã€‚ä½†å½“é¡¹ç›®ä¸­çš„ mixin è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ä½ å°±ä¼šå‘ç°å‘½åå†²çªçš„å¯èƒ½æ€§ä¼šå˜å¾—å¾ˆå¤§ï¼ŒæŸäº›çŠ¶æ€å’Œæ–¹æ³•çš„æ¥æºæ¨ä¸æ¸…æ™°ã€‚</p>\n<p>ç»„åˆå¼ API å¯ä»¥å¾ˆå®Œç¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>\n<h2 id=\"demo1\"><a class=\"anchor\" href=\"#demo1\">#</a> Demo1</h2>\n<p>å¯ä»¥ä½¿ç”¨ Vue-CLI æ­å»ºä¸€ä¸ª Vue3 çš„é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½  <code>@vue/composition-api</code>  åŒ…æ¥ä½¿ç”¨ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> i @vue/composition-api</pre></td></tr></table></figure><p>åœ¨  <code>main.js</code>  æ–‡ä»¶ä¸­ use ç»„åˆå¼ APIï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> compositionApi <span class=\"token keyword\">from</span> <span class=\"token string\">'@vue/composition-api'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Vue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>compositionApi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>ä»ä¸€ä¸ªè®¡æ•°å™¨çš„å°æ¡ˆä¾‹å¼€å§‹ã€‚æ–°å»ºä¸€ä¸ª  <code>Count.vue</code>  ï¼š<br />\n<img data-src=\"https://img-blog.csdnimg.cn/20200906174451904.gif#pic_center\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>count<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>increment<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Count is: <span class=\"token comment\"></span>, double is: <span class=\"token comment\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> reactive<span class=\"token punctuation\">,</span> computed <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vue/composition-api\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Count\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token literal-property property\">double</span><span class=\"token operator\">:</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">increment</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      state<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      increment</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>åœ¨ vue3 ä¸­æœ‰ä¸€ä¸ªæ–°çš„æ–¹æ³• <strong> <code>setup()</code> </strong>ã€‚dataã€computed ç­‰å±æ€§éƒ½éœ€è¦æ”¾åˆ° setup ä¸­ï¼Œsetup è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«åœ¨ç»„ä»¶ä¸­åº”è¯¥å¯ç”¨çš„æ‰€æœ‰å†…å®¹ã€‚</p>\n<p>å¦å¤–è¿˜ä½¿ç”¨äº†ä¸¤ä¸ªå‡½æ•° ** <code>reactive()</code> <strong>ã€</strong> <code>computed()</code> **ã€‚reactive ä¸ Vue 2 ä¸­çš„  <code>Vue.observable</code>  ç­‰æ•ˆã€‚computed () æ˜¯åˆ›å»ºè®¡ç®—å±æ€§çš„å¦ä¸€ç§æ–¹å¼ï¼Œé™¤æ­¤ä¹‹å¤–ä¸ 2 æ²¡æœ‰åŒºåˆ«ã€‚</p>\n<p>ç„¶åå¯ä»¥åœ¨  <code>App.vue</code>  ä¸­å¯¼å…¥  <code>Count.vue</code> ã€‚</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Count</span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> Count <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/components/Count\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"app\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token literal-property property\">components</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> Count <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ demoã€‚</p>\n<h2 id=\"demo2\"><a class=\"anchor\" href=\"#demo2\">#</a> Demo2</h2>\n<p><img data-src=\"https://img-blog.csdnimg.cn/20200906174529432.gif#pic_center\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" /></p>\n<p>è®©æˆ‘ä»¬æ¥ç»§ç»­å°è¯•åšä¸€äº›æ›´å¥½ç©çš„äº‹æƒ…ã€‚ä¸€ä¸ªå¯ä»¥ä»éšæœºç‹—ç‹—ç½‘ç«™ <code>https://dog.ceo</code>  ä¸­è·å–ç‹—ç‹—ç…§ç‰‡çš„åŠŸèƒ½ã€‚</p>\n<p>åˆ›å»ºä¸€ä¸ª  <code>useApi</code>  å‡½æ•°ï¼Œä»–çš„çŠ¶æ€æœ‰ï¼š <code>data</code>  å’Œ  <code>api_status</code> ï¼Œè¿˜æœ‰ä¸€ä¸ª  <code>initFetch</code>  åŠŸèƒ½ã€‚useApi æ¥æ”¶ url å’Œ options ä¸¤ä¸ªå‚æ•°ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒä»  <code>https://dog.ceo</code>  æä¾›çš„ API ä¸­æå–éšæœºçš„ç‹—ç‹—ç…§ç‰‡ã€‚åˆ›å»ºä¸€ä¸ª  <code>Dog.vue</code>  ç»„ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useApi</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token function\">reactive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token literal-property property\">api_status</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">initFetch</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token comment\">// æ›´æ”¹ API çŠ¶æ€</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      state<span class=\"token punctuation\">.</span>api_status <span class=\"token operator\">=</span> <span class=\"token string\">\"FETCHING\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token comment\">// å‘é€è¯·æ±‚</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token comment\">// æ ¼å¼åŒ–è¿”å›ç»“æœ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      state<span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token comment\">// ä¿®æ”¹ API çŠ¶æ€</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      state<span class=\"token punctuation\">.</span>api_status <span class=\"token operator\">=</span> <span class=\"token string\">\"FETCHING_SUCCESS\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token comment\">// å¤„ç†é”™è¯¯æƒ…å†µ</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      state<span class=\"token punctuation\">.</span>api_status <span class=\"token operator\">=</span> <span class=\"token string\">\"FETCHING_ERROR\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token comment\">// åˆ¤æ–­æœ‰æ²¡æœ‰ fetchImmediately å±æ€§ï¼Œå¹¶ä¸”ä¸ä¸ºç©º</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token string\">\"fetchImmediately\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> options<span class=\"token punctuation\">.</span>fetchImmediately<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token function\">initFetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token operator\">...</span><span class=\"token function\">toRefs</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    initFetch</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨åˆ°äº†  <code>toRefs()</code> ï¼Œç¨åä¼šè¯¦ç»†è®²ã€‚<br />\nåœ¨ useApi å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº† state åŒ…æ‹¬ data å’Œ api_statusã€‚æ­¤å¤–ï¼ŒinitFetch åŠŸèƒ½æ˜¯æ›´æ–° api_status å’Œå‘é€è¯·æ±‚ã€‚</p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ£€æŸ¥  options å¯¹è±¡æ˜¯å¦å…·æœ‰ fetchImmediately å±æ€§ã€‚å®ƒæŒ‡ç¤ºåœ¨åˆ›å»ºç»„ä»¶æ—¶æ˜¯å¦åº”åˆå§‹åŒ– API è°ƒç”¨ã€‚æœ€åï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªå“åº”å¼ state å’Œ initFetch å‡½æ•°çš„å¯¹è±¡  ã€‚æˆ‘ä»¬æ²¡æœ‰ç›´æ¥è¿”å› stateï¼Œè€Œæ˜¯ä½¿ç”¨ toRefs è¿›è¡ŒåŒ…è£…ã€‚ä½¿ç”¨ toRefs åŒ…è£…æ¯ä¸ªå€¼ï¼Œå¯ä»¥è®©ä»–ä»¬å…·æœ‰å“åº”æ€§ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> data<span class=\"token punctuation\">,</span> api_status<span class=\"token punctuation\">,</span> initFetch <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token function\">useApi</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token string\">\"https://dog.ceo/api/breeds/image/random\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token literal-property property\">fetchImmediately</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token literal-property property\">dogImage</span><span class=\"token operator\">:</span> data<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      api_status<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token literal-property property\">fetchDog</span><span class=\"token operator\">:</span> initFetch</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥ä» useApi ä¸­è§£æ„æ‰€éœ€çš„å±æ€§è€Œä¸ä¼šå¤±å»å“åº”æ€§ã€‚æ­¤å¤–ï¼Œä» setup è¿”å›çš„å¯¹è±¡å·²é‡å‘½åäº†å±æ€§ã€‚æœ€ååŠ ä¸Šæ¨¡æ¿ï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>api_status === <span class=\"token punctuation\">'</span>FETCHING<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Fetching<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-else-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>api_status === <span class=\"token punctuation\">'</span>FETCHING_ERROR<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Error<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-else-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>api_status === <span class=\"token punctuation\">'</span>FETCHING_SUCCESS<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">:src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dogImage<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span> <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span> <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span> <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0 auto<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span>Oops, no dog found<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">@click.prevent</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fetchDog<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Fetch dog<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>è¿™äº›æ¨¡æ¿ divs å–å†³äº api_status æ¥æ˜¾ç¤ºæˆ–éšè—ã€‚ç”±äºä¼ é€’ fetchImmediately: true ç»™ useApiï¼Œå› æ­¤ä¼šåœ¨åˆå§‹åŒ–æ—¶å‘é€ä¸€æ¡è¯·æ±‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡å•å‡» Fetch dog æŒ‰é’®æ¥å†ä¸€æ¬¡å‘èµ·è¯·æ±‚ã€‚</p>\n<p>ä½ å¯ä»¥åœ¨ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21rOTY1L3Z1ZTMtY29tcG9zaXRpb24tYXBpLWRlbW8=\">Github</span> ä¸Šä¸‹è½½å®Œæ•´ demo ä»£ç ã€‚</p>\n",
            "tags": [
                "å‰ç«¯",
                "Vue"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/React/react-router-dom%E8%B7%AF%E7%94%B1%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/",
            "url": "https://mk965.github.io/frontend-end/React/react-router-dom%E8%B7%AF%E7%94%B1%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/",
            "title": "react-router-dom è·¯ç”±åŸºç¡€æ•™ç¨‹",
            "date_published": "2020-09-06T09:46:46.000Z",
            "content_html": "<p>â€‹</p>\n<h2 id=\"ä¸€-å®‰è£…\"><a class=\"anchor\" href=\"#ä¸€-å®‰è£…\">#</a> ä¸€ã€å®‰è£…</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> react-router-dom</pre></td></tr></table></figure><p>æ ¹ç»„ä»¶ index.js</p>\n<p>ä½¿ç”¨ Router ç»„ä»¶åŒ…è£¹æ ¹èŠ‚ç‚¹æ¥å®ç°å…¨å±€çš„è·¯ç”±è®¿é—®ã€‚</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> BrowserRouter <span class=\"token keyword\">as</span> Router <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>ç»“æ„æœ‰  <code>BrowserRouter</code>  å’Œ  <code>HashRouter</code>  ä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«å¯¹åº” VUE-router çš„  <code>mode: history</code>  å’Œ  <code>mode: hash</code>  ä¸¤ç§æ¨¡å¼ã€‚</p>\n<p>æ³¨æ„ï¼šä¸€å®šè¦ä½¿ç”¨  <code>BrowserRouter</code> Â æˆ–  <code>HashRouter</code>  ä½œä¸ºç¥–å…ˆç»„ä»¶åŒ…è£¹æˆ‘ä»¬çš„æ ¹ç»„ä»¶ï¼</p>\n<h2 id=\"äºŒ-ä½¿ç”¨\"><a class=\"anchor\" href=\"#äºŒ-ä½¿ç”¨\">#</a> äºŒã€ä½¿ç”¨</h2>\n<p>ä½¿ç”¨ Route ç»„ä»¶æ¥å®Œæˆè·¯ç”±ï¼Œç±»ä¼¼äº Vue-router çš„  <code>&lt;router-view&gt;&lt;/router-view&gt;</code>  æ ‡ç­¾ã€‚</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Route <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/tv<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token constant\">TV</span><span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><h3 id=\"åŒ¹é…æ–¹å¼\"><a class=\"anchor\" href=\"#åŒ¹é…æ–¹å¼\">#</a> åŒ¹é…æ–¹å¼ï¼š</h3>\n<ul>\n<li>ä¸ç²¾å‡†åŒ¹é…ï¼šè¿™ç§æƒ…å†µä¸‹å¦‚æœåœ°å€æ è¾“å…¥ '/tv' åˆ™ '/' å’Œ '/tv' éƒ½ä¼šåŒ¹é…ï¼š</li>\n</ul>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/tv<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token constant\">TV</span><span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>Movie<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><ul>\n<li>ç²¾å‡†åŒ¹é…ï¼š\n<ul>\n<li>æ–¹æ³• 1ï¼šåœ¨æ ‡ç­¾ä¸­åŠ ä¸Š  <code>exact</code>  å±æ€§ï¼š</li>\n</ul>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">exact</span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>Movie<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><ul>\n<li>æ–¹æ³• 2ï¼šä½¿ç”¨ Switchï¼š</li>\n</ul>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Switch <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/tv<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token constant\">TV</span><span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>Movie<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure></li>\n</ul>\n<p>æ³¨æ„ï¼šä½¿ç”¨  <code>Switch</code>  æ—¶å°†ä¸€èˆ¬è·¯ç”±å†™åœ¨æœ€ä¸‹ï¼Œç‰¹æ®Šè·¯ç”±å†™åœ¨ä¸Šé¢ã€‚å¦åˆ™å¯èƒ½ä¼šåŒ¹é…åˆ°æ™®é€šè·¯ç”±ä¸Šã€‚</p>\n<h2 id=\"ä¸‰-è·¯ç”±å¯¼èˆª\"><a class=\"anchor\" href=\"#ä¸‰-è·¯ç”±å¯¼èˆª\">#</a> ä¸‰ã€è·¯ç”±å¯¼èˆª</h2>\n<p><code>react-router-dom</code>  çš„è·¯ç”±å¯¼èˆªåˆ†ä¸ºç»„ä»¶å¼å¯¼èˆªå’Œç¼–ç¨‹å¼å¯¼èˆªã€‚é¡¾åæ€ä¹‰ï¼Œç»„ä»¶å¼å¯¼èˆªå³é€šè¿‡ç»„ä»¶è¿›è¡Œå¯¼èˆªå®Œæˆè·¯ç”±çš„è·³è½¬ï¼Œç¼–ç¨‹å¼å¯¼èˆªå°±æ˜¯åœ¨æˆ‘ä»¬çš„é€»è¾‘ä»£ç å†…æ§åˆ¶è·¯ç”±è¿›è¡Œè·³è½¬ï¼ŒåŠ ä¸‹æ¥åˆ†åˆ«ä»‹ç»ä¸€ä¸‹ä¸¤ç§å¯¼èˆªã€‚</p>\n<h3 id=\"1-ç»„ä»¶å¼å¯¼èˆª\"><a class=\"anchor\" href=\"#1-ç»„ä»¶å¼å¯¼èˆª\">#</a> 1ã€ç»„ä»¶å¼å¯¼èˆªï¼š</h3>\n<h4 id=\"ä½¿ç”¨-link-æ ‡ç­¾è¿›è¡Œè·³è½¬\"><a class=\"anchor\" href=\"#ä½¿ç”¨-link-æ ‡ç­¾è¿›è¡Œè·³è½¬\">#</a> ä½¿ç”¨ Link æ ‡ç­¾è¿›è¡Œè·³è½¬ï¼š</h4>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/movie<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ç”µå½±</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/tv<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ç”µè§†å‰§</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/tv<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token constant\">TV</span><span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/movie<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>Movie<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><p>å…¶å®å°±æ˜¯åœ¨é¡µé¢å†…åŠ å…¥äº†ä¸€ä¸ª  <code>a</code>  æ ‡ç­¾ã€‚ä½†æ˜¯ç»è¿‡å®éªŒï¼Œæˆ‘ä»¬ç›´æ¥å†™  <code>a</code>  æ ‡ç­¾çš„è¯ä¹Ÿå¯ä»¥è·³è½¬ï¼Œä½†ä¼šæœ‰å»¶è¿Ÿï¼Œä¸å¦‚ç”±  <code>Link</code>  ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„  <code>a</code>  æ ‡ç­¾è·³è½¬é€Ÿåº¦å¿«ã€‚é€šè¿‡ devtools å¯ä»¥å‘ç°ï¼Œç»“æ„ä¸Šå†™æ³•ä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œä½†ç”±  <code>Link</code>  ç”Ÿæˆçš„  <code>a</code>  æ ‡ç­¾ä¸ä¼šå‘ç”Ÿé¡µé¢è·³è½¬ï¼Œåªä¼šè¿›è¡Œ DOM æ“ä½œã€‚</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/tv<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ç”µè§†å‰§</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h4 id=\"è·¯ç”±é«˜äº®\"><a class=\"anchor\" href=\"#è·¯ç”±é«˜äº®\">#</a> è·¯ç”±é«˜äº®ï¼š</h4>\n<p>ä½¿ç”¨  <code>NavLink</code>  æ ‡ç­¾</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> NavLink <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token string\">'./style.css'</span> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">NavLink</span></span> <span class=\"token attr-name\">activeClassName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>active<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/movie<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">ç”µå½±</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">NavLink</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h4 id=\"è·¯ç”±é‡å®šå‘\"><a class=\"anchor\" href=\"#è·¯ç”±é‡å®šå‘\">#</a> è·¯ç”±é‡å®šå‘ï¼š</h4>\n<p>ä½¿ç”¨  <code>Redirect</code> Â æ ‡ç­¾ï¼Œä¸€èˆ¬é…åˆ Switch ä¸€å—ä½¿ç”¨ã€‚</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Redirect <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Redirect</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/movie<span class=\"token punctuation\">'</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><p><code>Redirect</code> Â æ ‡ç­¾ä¸€æ ·å±äºæ™®é€šè·¯ç”±ï¼Œè¦æ”¾åœ¨ç‰¹æ®Šè·¯ç”±ä¸‹è¾¹ã€‚</p>\n<p><code>from</code>  å’Œ  <code>to</code>  è¡¨ç¤ºå½“è·¯ç”±åŒ¹é…åˆ°  <code>'/'</code>  æ—¶é‡å®šå‘åˆ°  <code>'/movie'</code> ã€‚</p>\n<h3 id=\"2-ç¼–ç¨‹å¼å¯¼èˆª\"><a class=\"anchor\" href=\"#2-ç¼–ç¨‹å¼å¯¼èˆª\">#</a> 2ã€ç¼–ç¨‹å¼å¯¼èˆªï¼š</h3>\n<p>åœ¨ç»„ä»¶å®ä¾‹ä¸­ï¼Œ  <code>React-router-dom</code>  è‡ªåŠ¨å¸®æˆ‘ä»¬åœ¨  <code>props</code>  ä¸­ç»‘å®šäº†  <code>history</code> ã€ <code>location</code> ã€ <code>match</code>  ä¸‰ä¸ªå¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬è¿›è¡Œè·¯ç”±è·³è½¬å°±ç‰¹åˆ«æ–¹ä¾¿äº†ã€‚å¦‚æœä½ ç†Ÿæ‚‰ Vue-router çš„è¯ä½ ä¼šå‘ç°è¯­æ³•å‡ ä¹ä¸€æ ·ã€‚</p>\n<ul>\n<li><code>history</code> ï¼šä¸»è¦åŒ…æ‹¬è·¯ç”±è·³è½¬å‡½æ•°ã€‚</li>\n<li><code>location</code> ï¼šä¸»è¦åŒ…å«è·¯å¾„ä¿¡æ¯ï¼Œç±»ä¼¼äº Vue-router çš„ $routeã€‚å…¶ä¸­çš„ state å±æ€§åŒ…å«ä¸Šä¸€ä¸ªè·¯ç”±ä¼ é€’è¿‡æ¥çš„å‚æ•°ã€‚</li>\n<li><code>match</code> ï¼šä¸»è¦ä½¿ç”¨å…¶ä¸­çš„ params è·å–åŠ¨æ€è·¯ç”±çš„ä¿¡æ¯ã€‚</li>\n</ul>\n<h4 id=\"è·³è½¬åˆ°æŸä¸ªè·¯ç”±\"><a class=\"anchor\" href=\"#è·³è½¬åˆ°æŸä¸ªè·¯ç”±\">#</a> è·³è½¬åˆ°æŸä¸ªè·¯ç”±ï¼š</h4>\n<p>this.props.history.push('/...')</p>\n<h2 id=\"å››-è·¯ç”±ä¼ å‚\"><a class=\"anchor\" href=\"#å››-è·¯ç”±ä¼ å‚\">#</a> å››ã€è·¯ç”±ä¼ å‚</h2>\n<h3 id=\"1-queryä¼ å‚\"><a class=\"anchor\" href=\"#1-queryä¼ å‚\">#</a> 1ã€query ä¼ å‚ï¼š</h3>\n<p>ä¸ Vue-router ä¸åŒï¼Œ <code>react-router-dom</code>  ä¸ä¼šä¸»åŠ¨å°†  <code>query</code>  å¸®æˆ‘ä»¬è§£ææˆå¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨  <code>query</code>  è¿›è¡Œä¼ å‚çš„è¯æˆ‘ä»¬éœ€è¦è‡ªå·±å»è§£æã€‚<br />\nå¯ä»¥åœ¨  <code>props.history.location.search</code>  ä¸­æ‹¿åˆ°å®Œæ•´çš„  <code>query</code>  å­—ç¬¦ä¸²ã€‚</p>\n<h3 id=\"2-åŠ¨æ€è·¯ç”±ä¼ å‚\"><a class=\"anchor\" href=\"#2-åŠ¨æ€è·¯ç”±ä¼ å‚\">#</a> 2ã€åŠ¨æ€è·¯ç”±ä¼ å‚ï¼š</h3>\n<p>åœ¨è·¯ç”±ä¸­è®¾ç½®åŠ¨æ€è·¯ç”±ï¼Œæ¯”å¦‚åŠ¨æ€çš„  <code>id</code> ï¼Œåœ¨ Movie ç»„ä»¶å®ä¾‹å†…  <code>props.match.params</code>  ä¸­å¯ä»¥æ‹¿åˆ°  <code>id</code> ã€‚</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/movie/:id<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>Movie<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><h3 id=\"3-è·¯ç”±è·³è½¬æ—¶ä¼ å‚\"><a class=\"anchor\" href=\"#3-è·¯ç”±è·³è½¬æ—¶ä¼ å‚\">#</a> 3ã€è·¯ç”±è·³è½¬æ—¶ä¼ å‚ï¼š</h3>\n<p>è·¯ç”±è·³è½¬æ—¶ï¼Œå¯åœ¨  <code>push</code>  çš„ç¬¬äºŒä¸ªå‚æ•°å¤„ä¼ ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬åœ¨  <code>'/tv'</code>  ç»„ä»¶å®ä¾‹ä¸Š  <code>props.location.state</code>  ä¸Šå°±å¯ä»¥æ‹¿åˆ°è¿™ä¸ªå¯¹è±¡äº†ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/tv'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"äº”-å­è·¯ç”±\"><a class=\"anchor\" href=\"#äº”-å­è·¯ç”±\">#</a> äº”ã€å­è·¯ç”±</h2>\n<p>åœ¨  <code>react-router-dom</code>  ä¸­æ²¡æœ‰å¾ˆå¼ºçš„å­è·¯ç”±çš„æ¦‚å¿µï¼Œæ‰€è°“çš„å­è·¯ç”±å…¶å®æ˜¯ç”±è·¯ç”±çš„åµŒå¥—æ¥å®ç°çš„ï¼Œæ¯”å¦‚ï¼Œæˆ‘åœ¨  <code>/movie</code>  è·¯ç”±æ¸²æŸ“çš„ç»„ä»¶ä¸º Movie ç»„ä»¶ï¼Œæˆ‘ä»¬ç»§ç»­åœ¨ Movie ç»„ä»¶ä¸­æ’å…¥è·¯ç”±ï¼Œå¹¶ä¸”è·¯å¾„è®¾ç½®ä¸º  <code>/movie/jingsong</code>  ï¼Œå°±å¯ä»¥å®ç°ç±»ä¼¼äºå­è·¯ç”±çš„æ•ˆæœã€‚</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/movie<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>Movie<span class=\"token punctuation\">&#125;</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><p>Movie ç»„ä»¶ï¼š</p>\n<figure class=\"highlight jsx\"><figcaption data-lang=\"React JSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/movie/jingsong<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">&#123;</span>Jingsong<span class=\"token punctuation\">&#125;</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Route</span></span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure>",
            "tags": [
                "å‰ç«¯",
                "React"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/JavaScript/JavaScript%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96%E5%A4%84%E7%90%86%E7%9A%84%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/",
            "url": "https://mk965.github.io/frontend-end/JavaScript/JavaScript%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96%E5%A4%84%E7%90%86%E7%9A%84%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/",
            "title": "JavaScript æ•°ç»„æ‰å¹³åŒ–å¤„ç†çš„æ–¹æ³•æ€»ç»“",
            "date_published": "2020-06-28T07:32:21.000Z",
            "content_html": "<p>æ‰€è°“ â€œæ•°ç»„æ‰å¹³åŒ–â€ å°±æ˜¯æŒ‡å°†ä¸€ä¸ªå¤šç»´æ•°ç»„å˜ä¸ºä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œæ¯”å¦‚ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>  <span class=\"token operator\">==</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡å‡ ç§å¸¸ç”¨æ–¹å¼æ¥å®ç°æ•°ç»„çš„æ‰å¹³åŒ–ã€‚</p>\n<hr />\n<h2 id=\"æ–¹æ³•1flatæ³•\"><a class=\"anchor\" href=\"#æ–¹æ³•1flatæ³•\">#</a> æ–¹æ³• 1ï¼šflat () æ³•</h2>\n<blockquote>\n<p>flat () æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚</p>\n</blockquote>\n<ul>\n<li>è¯­æ³•ï¼š <code>var newArray = arr.flat([depth])</code></li>\n<li>depthï¼šå¯é€‰ï¼ŒæŒ‡å®šè¦æå–åµŒå¥—æ•°ç»„çš„ç»“æ„æ·±åº¦ï¼Œé»˜è®¤å€¼ä¸º 1ã€‚</li>\n<li>å½“ depth å€¼ä¸º  <code>Infinity</code> ï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„<br />\n<strong>ä¾‹å­ï¼š</strong></li>\n</ul>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> newArr <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">flat</span><span class=\"token punctuation\">(</span><span class=\"token number\">Infinity</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// > (6) [1, 2, 3, 4, 5, 6]</span></pre></td></tr></table></figure><hr />\n<h2 id=\"æ–¹æ³•2splitæ³•\"><a class=\"anchor\" href=\"#æ–¹æ³•2splitæ³•\">#</a> æ–¹æ³• 2ï¼šsplit æ³•</h2>\n<p><strong>æ€è·¯ï¼š</strong> è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå†ä½¿ç”¨å»é™¤ <code>[]</code>  ç­‰ç¬¦å·ï¼Œåœ¨ä½¿ç”¨ <code>split(',')</code>  è¿›è¡Œåˆ†ç»„ã€‚<br />\n<strong>ä¾‹å­ï¼š</strong></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> newArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\[\\]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// > (6) [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\"]</span></pre></td></tr></table></figure><p><strong>ç¼ºç‚¹ï¼š</strong> ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºæ•°ç»„é‡Œçš„æ•°å­—è¢«è½¬ä¸ºäº†å­—ç¬¦ä¸²ï¼Œæˆäº†å­—ç¬¦ä¸²æ•°ç»„ã€‚</p>\n<hr />\n<h2 id=\"æ–¹æ³•3parseæ³•\"><a class=\"anchor\" href=\"#æ–¹æ³•3parseæ³•\">#</a> æ–¹æ³• 3ï¼šparse æ³•</h2>\n<p><strong>æ€è·¯ï¼š</strong> æ–¹æ³• 3 å’Œæ–¹æ³• 2 çš„æ€è·¯å·®ä¸å¤šï¼Œè½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå†ä½¿ç”¨å»é™¤ <code>[]</code>  ç­‰ç¬¦å·ï¼Œå†åœ¨å­—ç¬¦ä¸²ä¸¤ç«¯åŠ ä¸Š <code>[]</code> ï¼Œæœ€æœ‰ä½¿ç”¨ <code>JSON.parse()</code>  è¿›è¡Œæ ¼å¼åŒ–ã€‚</p>\n<blockquote>\n<p>JSON.parse () æ–¹æ³•ç”¨æ¥è§£æ JSON å­—ç¬¦ä¸²ï¼Œæ„é€ ç”±å­—ç¬¦ä¸²æè¿°çš„ JavaScript å€¼æˆ–å¯¹è±¡ã€‚æä¾›å¯é€‰çš„ reviver å‡½æ•°ç”¨ä»¥åœ¨è¿”å›ä¹‹å‰å¯¹æ‰€å¾—åˆ°çš„å¯¹è±¡æ‰§è¡Œå˜æ¢ (æ“ä½œ)ã€‚</p>\n</blockquote>\n<p><strong>ä¾‹å­ï¼š</strong></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> newArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\[\\]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>newArr <span class=\"token operator\">=</span> <span class=\"token string\">'['</span> <span class=\"token operator\">+</span> newArr <span class=\"token operator\">+</span> <span class=\"token string\">\"]\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>newArr <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>newArr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newArr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// > (6) [1, 2, 3, 4, 5, 6]</span></pre></td></tr></table></figure><hr />\n<h2 id=\"æ–¹æ³•4é€’å½’æ³•\"><a class=\"anchor\" href=\"#æ–¹æ³•4é€’å½’æ³•\">#</a> æ–¹æ³• 4ï¼šé€’å½’æ³•</h2>\n<p><strong>æ€è·¯ï¼š</strong> é€’å½’æ³•å¯ä»¥è¯´æ˜¯æœ€ä¼ ç»Ÿçš„æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€éº»çƒ¦çš„æ–¹æ³•ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥å¾ˆå¥½çš„è§£å†³æ•°ç»„æ‰å¹³åŒ–çš„é—®é¢˜ã€‚ä¸»è¦æ˜¯éå†ç¬¬ä¸€å±‚æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œåˆ¤æ–­å…ƒç´ æ˜¯å¦è¿˜æ˜¯æ•°ç»„ï¼Œå¦‚æœæ˜¯å°±è¿›è¡Œé€’å½’ï¼Œä¸æ˜¯çš„è¯ <code>push</code>  è¿›ç»“æœæ•°ç»„ã€‚</p>\n<p><strong>ä¾‹å­ï¼š</strong></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">let</span> <span class=\"token function-variable function\">fn</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> ary<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">let</span> item <span class=\"token operator\">=</span> ary<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>ary<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// > (6) [1, 2, 3, 4, 5, 6]</span></pre></td></tr></table></figure><hr />\n<h2 id=\"æ–¹æ³•5reduceæ³•\"><a class=\"anchor\" href=\"#æ–¹æ³•5reduceæ³•\">#</a> æ–¹æ³• 5ï¼šreduce æ³•</h2>\n<blockquote>\n<p><code>reduce()</code>  æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„ reducer å‡½æ•° (å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚<br />\nreducer å‡½æ•°æ¥æ”¶ 4 ä¸ªå‚æ•°:</p>\n<ul>\n<li>Accumulator (acc) (ç´¯è®¡å™¨)</li>\n<li>Current Value (cur) (å½“å‰å€¼)</li>\n<li>Current Index (idx) (å½“å‰ç´¢å¼•)</li>\n<li>Source Array (src) (æºæ•°ç»„)</li>\n</ul>\n</blockquote>\n<blockquote>\n<p><code> concat()</code>  æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</p>\n</blockquote>\n<p><strong>æ€è·¯ï¼š</strong> ä½¿ç”¨ <code>reduce()</code>  è·å¾—ä¸Šä¸€æ¬¡æ“ä½œçš„ç»“æœï¼Œå¹¶åˆ¤æ–­å½“å‰å€¼æ˜¯å¦ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„é‡‘é¼é€’å½’ï¼Œå¦‚æœä¸æ˜¯æ•°ç»„åˆ™ä½¿ç”¨ <code>concat()</code>  å‘å‰åˆå¹¶ã€‚</p>\n<p><strong>ä¾‹å­ï¼š</strong></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result<span class=\"token punctuation\">,</span> item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// > (6) [1, 2, 3, 4, 5, 6]</span></pre></td></tr></table></figure><hr />\n<h2 id=\"æ–¹æ³•6æ‰©å±•è¿ç®—ç¬¦æ³•\"><a class=\"anchor\" href=\"#æ–¹æ³•6æ‰©å±•è¿ç®—ç¬¦æ³•\">#</a> æ–¹æ³• 6ï¼šæ‰©å±•è¿ç®—ç¬¦æ³•</h2>\n<blockquote>\n<p>å±•å¼€è¯­æ³• (Spread syntax), å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨ / æ•°ç»„æ„é€ æ—¶ï¼Œå°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€… string åœ¨è¯­æ³•å±‚é¢å±•å¼€ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶ï¼Œå°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰ key-value çš„æ–¹å¼å±•å¼€ã€‚(è¯‘è€…æ³¨ï¼šå­—é¢é‡ä¸€èˆ¬æŒ‡ [1, 2, 3] æˆ–è€… {name: &quot;mdn&quot;} è¿™ç§ç®€æ´çš„æ„é€ æ–¹å¼)<br />\n è¯­æ³•ï¼š <code>myFunction(...iterableObj);</code> <br />\n<strong> ä¾‹å­ï¼š</strong></p>\n</blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span>isArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// > (6) [1, 2, 3, 4, 5, 6]</span></pre></td></tr></table></figure><p><strong>ç¼ºç‚¹ï¼š</strong> æ­¤æ–¹æ³•æœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯æ”¹å˜äº†åŸç´ ç»„ï¼Œå¯å°†å…ƒç´ ç»„æå‰å¤‡ä»½ã€‚</p>\n",
            "tags": [
                "å‰ç«¯",
                "JavaScript"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/JavaScript/JavaScript%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/",
            "url": "https://mk965.github.io/frontend-end/JavaScript/JavaScript%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/",
            "title": "JavaScript æ•°ç»„å»é‡æ–¹æ³•æ€»ç»“",
            "date_published": "2020-06-12T01:21:53.000Z",
            "content_html": "<p>â€‹</p>\n<h2 id=\"æ–¹æ³•ä¸€-åˆ©ç”¨es6-setå»é‡es6ä¸­æœ€å¸¸ç”¨\"><a class=\"anchor\" href=\"#æ–¹æ³•ä¸€-åˆ©ç”¨es6-setå»é‡es6ä¸­æœ€å¸¸ç”¨\">#</a> æ–¹æ³•ä¸€ã€åˆ©ç”¨ ES6 Set å»é‡ï¼ˆES6 ä¸­æœ€å¸¸ç”¨ï¼‰</h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">return</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">//[1, \"true\", true, 15, false, undefined, null, NaN, \"NaN\", 0, \"a\", &#123;&#125;, &#123;&#125;]</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•äºŒ-åˆ©ç”¨foråµŒå¥—forç„¶åspliceå»é‡es5ä¸­æœ€å¸¸ç”¨\"><a class=\"anchor\" href=\"#æ–¹æ³•äºŒ-åˆ©ç”¨foråµŒå¥—forç„¶åspliceå»é‡es5ä¸­æœ€å¸¸ç”¨\">#</a> æ–¹æ³•äºŒã€åˆ©ç”¨ for åµŒå¥— forï¼Œç„¶å splice å»é‡ï¼ˆES5 ä¸­æœ€å¸¸ç”¨ï¼‰</h2>\n<p>åŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼ã€‚å€¼ç›¸åŒæ—¶ï¼Œåˆ™åˆ å»è¿™ä¸ªå€¼ã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>            </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span>arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> j<span class=\"token operator\">=</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">&lt;</span>arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>         <span class=\"token comment\">// ç¬¬ä¸€ä¸ªç­‰åŒäºç¬¬äºŒä¸ªï¼Œsplice æ–¹æ³•åˆ é™¤ç¬¬äºŒä¸ª</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                    arr<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>j<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                    j<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">//[1, \"true\", 15, false, undefined, NaN, NaN, \"NaN\", \"a\", &#123;â€¦&#125;, &#123;â€¦&#125;]     //NaN å’Œ &#123;&#125; æ²¡æœ‰å»é‡ï¼Œä¸¤ä¸ª null ç›´æ¥æ¶ˆå¤±äº†</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•ä¸‰-åˆ©ç”¨-indexof-å»é‡\"><a class=\"anchor\" href=\"#æ–¹æ³•ä¸‰-åˆ©ç”¨-indexof-å»é‡\">#</a> æ–¹æ³•ä¸‰ã€åˆ©ç”¨  <code>indexOf</code>  å»é‡</h2>\n<p>æ–°å»ºä¸€ä¸ªç©ºçš„ç»“æœæ•°ç»„ï¼Œ <code>for</code> Â å¾ªç¯åŸæ•°ç»„ï¼Œåˆ¤æ–­ç»“æœæ•°ç»„æ˜¯å¦å­˜åœ¨å½“å‰å…ƒç´ ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å€¼åˆ™è·³è¿‡ï¼Œä¸ç›¸åŒåˆ™  <code>push</code>  è¿›æ•°ç»„</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'type error!'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">var</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>array <span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            array <span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> array<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// [1, \"true\", true, 15, false, undefined, null, NaN, NaN, \"NaN\", 0, \"a\", &#123;â€¦&#125;, &#123;â€¦&#125;]  //NaNã€&#123;&#125; æ²¡æœ‰å»é‡</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•å››-åˆ©ç”¨-sort\"><a class=\"anchor\" href=\"#æ–¹æ³•å››-åˆ©ç”¨-sort\">#</a> æ–¹æ³•å››ã€åˆ©ç”¨  <code>sort()</code></h2>\n<p>åˆ©ç”¨  <code>sort()</code>  æ’åºæ–¹æ³•ï¼Œç„¶åæ ¹æ®æ’åºåçš„ç»“æœè¿›è¡Œéå†åŠç›¸é‚»å…ƒç´ æ¯”å¯¹</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'type error!'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    arr <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">var</span> arrry<span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            arrry<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">return</span> arrry<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">// [0, 1, 15, \"NaN\", NaN, NaN, &#123;â€¦&#125;, &#123;â€¦&#125;, \"a\", false, null, true, \"true\", undefined]      //NaNã€&#123;&#125; æ²¡æœ‰å»é‡</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•äº”-åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡\"><a class=\"anchor\" href=\"#æ–¹æ³•äº”-åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡\">#</a> æ–¹æ³•äº”ã€åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡</h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'type error!'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">var</span> arrry<span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     <span class=\"token keyword\">var</span>  obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>obj<span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            arrry<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            obj<span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            obj<span class=\"token punctuation\">[</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token operator\">++</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">return</span> arrry<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">//[1, \"true\", 15, false, undefined, null, NaN, 0, \"a\", &#123;â€¦&#125;]    // ä¸¤ä¸ª true ç›´æ¥å»æ‰äº†ï¼ŒNaN å’Œ &#123;&#125; å»é‡</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•å…­-åˆ©ç”¨-includes\"><a class=\"anchor\" href=\"#æ–¹æ³•å…­-åˆ©ç”¨-includes\">#</a> æ–¹æ³•å…­ã€åˆ©ç”¨  <code>includes</code></h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'type error!'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">var</span> array <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span> <span class=\"token operator\">!</span>array<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">//includes æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰æŸä¸ªå€¼</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                    array<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>              <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> array</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">//[1, \"true\", true, 15, false, undefined, null, NaN, \"NaN\", 0, \"a\", &#123;â€¦&#125;, &#123;â€¦&#125;]     //&#123;&#125; æ²¡æœ‰å»é‡</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•ä¸ƒ-åˆ©ç”¨-hasownproperty\"><a class=\"anchor\" href=\"#æ–¹æ³•ä¸ƒ-åˆ©ç”¨-hasownproperty\">#</a> æ–¹æ³•ä¸ƒã€åˆ©ç”¨  <code>hasOwnProperty</code></h2>\n<p>åˆ©ç”¨  <code>hasOwnProperty</code> Â åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯¹è±¡å±æ€§</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> arr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">return</span> obj<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> item <span class=\"token operator\">+</span> item<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span><span class=\"token keyword\">typeof</span> item <span class=\"token operator\">+</span> item<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">//[1, \"true\", true, 15, false, undefined, null, NaN, \"NaN\", 0, \"a\", &#123;â€¦&#125;]   // æ‰€æœ‰çš„éƒ½å»é‡äº†</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•å…«-åˆ©ç”¨-filter\"><a class=\"anchor\" href=\"#æ–¹æ³•å…«-åˆ©ç”¨-filter\">#</a> æ–¹æ³•å…«ã€åˆ©ç”¨  <code>filter</code></h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// å½“å‰å…ƒç´ ï¼Œåœ¨åŸå§‹æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼• == å½“å‰ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›å½“å‰å…ƒç´ </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> index<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">//[1, \"true\", true, 15, false, undefined, null, \"NaN\", 0, \"a\", &#123;â€¦&#125;, &#123;â€¦&#125;]</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•ä¹-åˆ©ç”¨é€’å½’å»é‡\"><a class=\"anchor\" href=\"#æ–¹æ³•ä¹-åˆ©ç”¨é€’å½’å»é‡\">#</a> æ–¹æ³•ä¹ã€åˆ©ç”¨é€’å½’å»é‡</h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">var</span> array<span class=\"token operator\">=</span> arr<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">var</span> len <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\tarray<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span>b</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>   <span class=\"token comment\">// æ’åºåæ›´åŠ æ–¹ä¾¿å»é‡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> a <span class=\"token operator\">-</span> b<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token keyword\">function</span> <span class=\"token function\">loop</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">>=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> array<span class=\"token punctuation\">[</span>index<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            array<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token function\">loop</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// é€’å½’ loopï¼Œç„¶åæ•°ç»„å»é‡</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token function\">loop</span><span class=\"token punctuation\">(</span>len<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token keyword\">return</span> array<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">//[1, \"a\", \"true\", true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, \"NaN\", 0, \"a\", &#123;â€¦&#125;, undefined]</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•å-åˆ©ç”¨-map-æ•°æ®ç»“æ„å»é‡\"><a class=\"anchor\" href=\"#æ–¹æ³•å-åˆ©ç”¨-map-æ•°æ®ç»“æ„å»é‡\">#</a> æ–¹æ³•åã€åˆ©ç”¨  <code>Map</code>  æ•°æ®ç»“æ„å»é‡</h2>\n<p>åˆ›å»ºä¸€ä¸ªç©º  <code>Map</code>  æ•°æ®ç»“æ„ï¼Œéå†éœ€è¦å»é‡çš„æ•°ç»„ï¼ŒæŠŠæ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ä½œä¸º  <code>key</code>  å­˜åˆ°  <code>Map</code>  ä¸­ã€‚ç”±äº  <code>Map</code>  ä¸­ä¸ä¼šå‡ºç°ç›¸åŒçš„  <code>key</code>  å€¼ï¼Œæ‰€ä»¥æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯å»é‡åçš„ç»“æœã€‚</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">arrayNonRepeatfy</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token keyword\">let</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t\t<span class=\"token keyword\">let</span> array <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// æ•°ç»„ç”¨äºè¿”å›ç»“æœ</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>map <span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  <span class=\"token comment\">// å¦‚æœæœ‰è¯¥ key å€¼</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t\tmap <span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\t\tmap <span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// å¦‚æœæ²¡æœ‰è¯¥ key å€¼</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t\tarray <span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token keyword\">return</span> array<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// [1, \"a\", \"true\", true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, \"NaN\", 0, \"a\", &#123;â€¦&#125;, undefined]</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•åä¸€-åˆ©ç”¨-reduce-includes\"><a class=\"anchor\" href=\"#æ–¹æ³•åä¸€-åˆ©ç”¨-reduce-includes\">#</a> æ–¹æ³•åä¸€ã€åˆ©ç”¨  <code>reduce</code>  +  <code>includes</code></h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prev<span class=\"token punctuation\">,</span>cur</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> prev<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> prev <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>prev<span class=\"token punctuation\">,</span>cur<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'NaN'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// [1, \"true\", true, 15, false, undefined, null, NaN, \"NaN\", 0, \"a\", &#123;â€¦&#125;, &#123;â€¦&#125;]</span></pre></td></tr></table></figure><h2 id=\"æ–¹æ³•åäºŒ-new-setarr\"><a class=\"anchor\" href=\"#æ–¹æ³•åäºŒ-new-setarr\">#</a> æ–¹æ³•åäºŒã€[...new Set (arr)]</h2>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// ä»£ç å°±æ˜¯è¿™ä¹ˆå°‘ ----ï¼ˆå…¶å®ï¼Œä¸¥æ ¼æ¥è¯´å¹¶ä¸ç®—æ˜¯ä¸€ç§ï¼Œç›¸å¯¹äºç¬¬ä¸€ç§æ–¹æ³•æ¥è¯´åªæ˜¯ç®€åŒ–äº†ä»£ç ï¼‰</span></pre></td></tr></table></figure><p>â€‹</p>\n",
            "tags": [
                "å‰ç«¯",
                "JavaScript"
            ]
        },
        {
            "id": "https://mk965.github.io/frontend-end/JavaScript/1%E5%88%86%E9%92%9F%E6%90%9E%E6%87%82%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0this%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/",
            "url": "https://mk965.github.io/frontend-end/JavaScript/1%E5%88%86%E9%92%9F%E6%90%9E%E6%87%82%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0this%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/",
            "title": "1 åˆ†é’Ÿææ‡‚ç®­å¤´å‡½æ•° this æŒ‡å‘é—®é¢˜",
            "date_published": "2020-03-23T15:10:57.000Z",
            "content_html": "<p>åœ¨ç½‘ä¸Šçœ‹åˆ°å¾ˆå¤šå…³äºç®­å¤´å‡½æ•° this æŒ‡å‘çš„åšå®¢å’Œé—®é¢˜è§£ç­”ï¼Œä½†æ˜¯åŸºæœ¬å†™çš„éƒ½ä¸å‡†ç¡®ï¼Œæœ‰çš„ç”šè‡³æ˜¯é”™è¯¯çš„ï¼Œåœ¨å…¶ä»–åšå®¢ç½‘ç«™å¾—åˆ°çš„ç­”æ¡ˆåŸºæœ¬å°±æ˜¯ â€œç®­å¤´å‡½æ•°åœ¨å®šä¹‰æ—¶ this æŒ‡å‘è°é‚£ä¹ˆä¹‹åå°±ä¸€ç›´æŒ‡å‘è°â€ï¼Œè¿™å¥è¯è™½ç„¶ä¸é”™ï¼Œä½†æ˜¯è¿™ä¸è¿˜æ˜¯æ²¡è¯´æ¸…æ¥šåˆ°åº•æ˜¯æŒ‡å‘äº†è°å˜›ã€‚å®åœ¨çœ‹ä¸ä¸‹å»äº†ï¼Œä»Šå¤©åœ¨è¿™é‡Œè¯¦ç»†å†™ä¸€å†™ç®­å¤´å‡½æ•°çš„ this åˆ°åº•æŒ‡å‘è°ï¼Ÿ</p>\n<p>åœ¨è¿™é‡Œé¦–å…ˆçœ‹ä¸€çœ‹ MDN å¯¹äºç®­å¤´å‡½æ•°çš„ä»‹ç»ï¼š</p>\n<blockquote>\n<p>ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ï¼Œ<strong>&lt;font color=red&gt; å¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„ this&lt;/font&gt;</strong>ï¼Œargumentsï¼Œsuper æˆ– new.targetã€‚ç®­å¤´å‡½æ•°è¡¨è¾¾å¼æ›´é€‚ç”¨äºé‚£äº›æœ¬æ¥éœ€è¦åŒ¿åå‡½æ•°çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚</p>\n</blockquote>\n<p>*<strong>&lt;font color=red&gt; å…¶å®ç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„ this&lt;/font&gt;</strong>ï¼Œæ›´åˆ«è°ˆ this çš„æŒ‡å‘é—®é¢˜äº†ã€‚ç®­å¤´å‡½æ•°ä¸å…‰æ²¡æœ‰ thisï¼Œè€Œä¸”è¿ argumentsã€superã€new.target ä¹Ÿæ²¡æœ‰ã€‚</p>\n<p>ç®­å¤´å‡½æ•°ä¸­å‡ºç°çš„ this å®é™…ä¸ºå®ƒæ‰€åœ¨ä¸Šä¸‹æ–‡ä¸­çš„ thisï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥çœ‹ä¸€ä¸‹ï¼š</p>\n<h4 id=\"æ¡ˆä¾‹1\"><a class=\"anchor\" href=\"#æ¡ˆä¾‹1\">#</a> æ¡ˆä¾‹ 1ï¼š</h4>\n<p>æ™®é€šå‡½æ•°çš„ thisï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>æŒ‰é’®<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"btn\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//this æŒ‡å‘å½“å‰å‘ç”Ÿäº‹ä»¶çš„å…ƒç´ </span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>æŒ‰é’®<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>ç®­å¤´å‡½æ•°ï¼š</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>æŒ‰é’®<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"btn\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">></span> Window <span class=\"token punctuation\">&#123;</span>postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ™®é€šå‡½æ•°ä¸­æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Œè¾“å‡ºçš„ <code>this</code>  æŒ‡å‘å½“å‰å‘ç”Ÿäº‹ä»¶çš„å…ƒç´ ä¹Ÿå°±æ˜¯ <code>&lt;button&gt;</code>  å…ƒç´ ï¼Œç®­å¤´å‡½æ•°ä¸­ <code>this</code>  æŒ‡å‘çš„æ˜¯ <code>Window</code> ï¼Œå†™åˆ°è¿™ä¸ªåœ°æ–¹å…¶ä»–çš„åšå®¢å°±å¾—å‡ºäº†ç®­å¤´å‡½æ•° <code>this</code>  éƒ½æŒ‡å‘ <code>Window</code>  çš„<strong>é”™è¯¯ç»“è®ºï¼</strong></p>\n<h4 id=\"æ¡ˆä¾‹2\"><a class=\"anchor\" href=\"#æ¡ˆä¾‹2\">#</a> æ¡ˆä¾‹ 2ï¼š</h4>\n<p>æˆ‘ä»¬ç»§ç»­çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>button id<span class=\"token operator\">=</span><span class=\"token string\">\"btn\"</span><span class=\"token operator\">></span>æŒ‰é’®<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"btn\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token function\">foo</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠ <code>foo()</code>  å‡½æ•°çš„ <code>this</code>  æŒ‡å‘ä½¿ç”¨è¿‡ <code>call()</code>  æ”¹ä¸ºäº†æŒ‡å‘ <code>obj</code> ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶å¾—åˆ°è¾“å‡ºï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>a: <span class=\"token number\">1</span>, b: <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å’¦ï¼Ÿå’±ä»¬çš„ <code>this</code>  æ˜¯åœ¨ç®­å¤´å‡½æ•°é‡Œè¾“å‡ºçš„å•Šï¼Œä¸ºå•¥æŒ‡å‘äº† <code>obj</code>  å‘¢ï¼Ÿ<br />\nä¸Šè¾¹æˆ‘ä»¬è¯´äº†ï¼Œç®­å¤´å‡½æ•°å…¶å®æ˜¯æ²¡æœ‰è‡ªå·±çš„ <code>this</code>  çš„ï¼Œè¿™ä¸ª <code>this</code>  è™½ç„¶åœ¨ç®­å¤´å‡½æ•°å†…ï¼Œå®é™…ä¸Šè¿™ä¸ª <code>this</code>  çš„æŒ‡å‘æ˜¯ <code>foo()</code>  çš„ <code>this</code>  çš„æŒ‡å‘ï¼ˆä½†ä¸æ˜¯ foo çš„ thisï¼Œfoo çš„ this å¯ä»¥æ”¹å˜æŒ‡å‘ç®­å¤´å‡½æ•°çš„ä¸å¯ä»¥ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæŒ‡å‘äº† <code>obj</code> ã€‚</p>\n<h4 id=\"æ‰¾æŒ‡å‘çš„å°æŠ€å·§\"><a class=\"anchor\" href=\"#æ‰¾æŒ‡å‘çš„å°æŠ€å·§\">#</a> æ‰¾æŒ‡å‘çš„å°æŠ€å·§</h4>\n<p>æ‰¾æŒ‡å‘çš„å°æŠ€å·§å°±æ˜¯<strong>æ‰’çš®</strong>ï¼Œå¯¹ï¼å°±æ˜¯æŠŠç®­å¤´å‡½æ•°è¿™å±‚çš®æ‰’æ‰ï¼Œç„¶åå†çœ‹ <code>this</code>  æŒ‡å‘è°å°±æ˜¯æŒ‡å‘è°ã€‚<br />\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†çº¢åœˆåœˆè¿™å±‚çš®æ‰’æ‰ï¼Œå†æ¥çœ‹è¿™ä¸ª <code>this</code> ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŒ‡å‘çš„å®é™…ä¸Šæ˜¯ <code>foo()this</code>  çš„æŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯æŒ‡å‘ <code>obj</code> ã€‚<br />\n<img data-src=\"https://img-blog.csdnimg.cn/20200323230824396.png\" alt=\"æ‰’æ‰åœˆä¸­çš„â€œçš®â€\" /></p>\n",
            "tags": [
                "å‰ç«¯",
                "JavaScript"
            ]
        }
    ]
}